{"version":3,"file":"jsforce-api-metadata.min.js","sources":["jsforce-api-metadata.js"],"names":["e","exports","module","define","amd","o","window","global","self","f","jsforce","modules","api","Metadata","t","n","r","s","u","a","require","i","Error","code","l","call","length",1,"process","Buffer","convertToSaveResult","result","saveResult","_","clone","success","convertToUpsertResult","upsertResult","created","convertToMetadataInfo","rec","metadataInfo","$","inherits","events","stream","Stream","Promise","SOAP","conn","this","_conn","prototype","pollInterval","pollTimeout","_invoke","method","message","callback","soapEndpoint","sessionId","accessToken","serverUrl","instanceUrl","version","xmlns","_transport","invoke","then","res","thenCall","createAsync","type","metadata","Number","convert","md","isArray","map","AsyncResultLocator","createSync","create","results","readSync","read","fullNames","records","updateAsync","updateMetadata","umd","updateSync","update","upsertSync","upsert","deleteAsync","isString","fullName","del","deleteSync","rename","oldFullName","newFullName","checkStatus","ids","asyncProcessId","describe","asOfVersion","metadataObjects","mo","childXmlNames","inFolder","metaFile","partialSaveAllowed","testRequired","list","queries","retrieve","request","RetrieveResultLocator","checkRetrieveStatus","id","deploy","zipInput","options","isFunction","deferred","defer","bufs","on","d","push","resolve","concat","resume","promise","zipContentBuffer","zipContentB64","toString","ZipFile","DeployOptions","DeployResultLocator","checkDeployStatus","includeDetails","isObject","isBoolean","done","checkOnly","ignoreWarnings","rollbackOnError","numberComponentErrors","numberComponentsDeployed","numberComponentsTotal","numberTestErrors","numberTestsCompleted","numberTestsTotal","meta","_meta","_results","_isArray","EventEmitter","onResolve","onReject","convertType","nextTick","err","check","poll","interval","timeout","startTime","Date","getTime","now","emit","resultArr","len","setTimeout","complete","reject","super_","rstream","readable","zipFile","../promise","../soap","_process","buffer",2,"parseHeaders","hs","headers","split","forEach","line","pair","name","toLowerCase","value","supported","Sfdc","canvas","createRequest","signedRequest","params","send","body","settings","client","data","contentType","responseHeaders","payload","JSON","stringify","response","statusCode","status","str","end","failure","ajax","url","Duplex","_read","sent","_write","chunk","encoding","join","test",3,"_index","jsonpParam","toUpperCase","cbFuncName","callbacks","indexOf","script","document","createElement","src","documentElement","appendChild","pid","cleanup","content-type","clearTimeout","removeChild",4,"getResponseHeaderNames","xhr","headerLines","getAllResponseHeaders","headerLine","XMLHttpRequest","open","header","setRequestHeader","onreadystatechange","readyState","headerNames","headerName","getResponseHeader",5,"Q","_promise","apply","arguments","fail","when","reason","all","Deferred","_deferred","q",6,"lookupValue","obj","propRegExps","regexp","shift","prop","toXML","v","attrs","elems","k","substring","String","startTag","endTag","xml2js","Transport","transport","proxyUrl","ProxyTransport","args","soapEnvelope","_createEnvelope","httpRequest","Content-Type","SOAPAction","ret","parseString","explicitArray","error","./transport",7,"streamify","factory","_then","newPromise","normalizeApiHost","apiHost","m","exec","baseUrl","nodeRequest","xhrRequest","jsonp","defaults","followAllRedirects","env","HTTP_PROXY","proxy","HTTP_TIMEOUT","LOCATION_BASE_URL","location","host","req","_proxyUrl","proxyParams","Math","random","salesforceproxy-endpoint","./browser/canvas","./browser/jsonp","./browser/request","./promise",8,9,"./node_modules/browserify/lib/_empty.js",10,"subject","noZero","base64clean","byteLength","TypeError","floor","kMaxLength","RangeError","buf","TYPED_ARRAY_SUPPORT","_augment","Uint8Array","_isBuffer","_set","isArrayish","isBuffer","readUInt8","write","hexWrite","string","offset","remaining","strLen","byte","parseInt","substr","isNaN","utf8Write","charsWritten","blitBuffer","utf8ToBytes","asciiWrite","asciiToBytes","binaryWrite","base64Write","base64ToBytes","utf16leWrite","utf16leToBytes","base64Slice","start","base64","fromByteArray","slice","utf8Slice","tmp","min","decodeUtf8Char","fromCharCode","asciiSlice","binarySlice","hexSlice","out","toHex","utf16leSlice","bytes","checkOffset","ext","checkInt","max","objectWriteUInt16","littleEndian","j","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","stringtrim","replace","INVALID_BASE64_RE","trim","byteArray","b","charCodeAt","h","encodeURIComponent","c","hi","lo","toByteArray","dst","decodeURIComponent","SlowBuffer","INSPECT_MAX_BYTES","poolSize","ArrayBuffer","arr","foo","subarray","compare","x","y","isEncoding","totalLength","undefined","pos","item","copy","parent","loweredCase","Infinity","equals","inspect","match","get","console","log","set","writeUInt8","isFinite","swap","toJSON","Array","_arr","sliceLen","newBuf","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readInt8","readInt16LE","val","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","target","target_start","source","fill","toArrayBuffer","BP","_get","toLocaleString","base64-js","is-array",11,"lookup","decode","elt","PLUS","SLASH","NUMBER","UPPER","LOWER","b64ToByteArray","b64","L","placeHolders","charAt","Arr","uint8ToBase64","uint8","encode","num","tripletToBase64","temp","extraBytes","output","base64js",12,"isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","pow","rt","abs","LN2",13,"Object",14,"_events","_maxListeners","arg","isNumber","isUndefined","defaultMaxListeners","setMaxListeners","er","handler","listeners","addListener","listener","newListener","warned","trace","once","g","removeListener","fired","position","splice","removeAllListeners","key","listenerCount","emitter",15,"ctor","superCtor","constructor","enumerable","writable","configurable","TempCtor",16,"noop","canSetImmediate","setImmediate","canPost","postMessage","addEventListener","queue","ev","stopPropagation","fn","title","browser","argv","off","binding","cwd","chdir",17,"EE","Readable","Writable","Transform","PassThrough","pipe","dest","ondata","pause","ondrain","onend","didOnEnd","onclose","destroy","onerror","_isStdio","readable-stream/duplex.js","readable-stream/passthrough.js","readable-stream/readable.js","readable-stream/transform.js","readable-stream/writable.js",18,"assertEncoding","passThroughWrite","utf16DetectIncompleteChar","incomplete","charReceived","charLength","base64DetectIncompleteChar","StringDecoder","surrogateSize","detectIncompleteChar","charBuffer","charStr","charCode","lenIncomplete","size","cr","enc",19,"./node_modules/browserify/node_modules/inherits/inherits_browser.js",20,"definition","bootstrap","ses","ok","makeQ","uncurryThis","isStopIteration","exception","object_toString","QReturnValue","makeStackTraceLong","hasStacks","stack","STACK_JUMP_SEPARATOR","stacks","p","unshift","concatedStacks","filterStackString","stackString","lines","desiredLines","isInternalFrame","isNodeFrame","stackLine","getFileNameAndLineNumber","attempt1","attempt2","attempt3","fileNameAndLineNumber","fileName","lineNumber","qFileName","qStartingLine","qEndingLine","captureLine","firstLine","deprecate","alternative","warn","isPromise","isPromiseAlike","coerce","fulfill","become","resolvedPromise","array_reduce","messages","promiseDispatch","progressListeners","object_create","op","operands","array_slice","valueOf","nearerValue","nearer","state","longStackSupport","notify","progress","progressListener","resolver","race","answerPs","descriptor","fallback","inspected","fulfilled","rejected","progressed","object","isPending","isFulfilled","isRejected","displayUnhandledReasons","unhandledReasonsDisplayed","Touch","unhandledReasons","logUnhandledReasons","resetUnhandledRejections","unhandledRejections","trackUnhandledRejections","trackRejection","untrackRejection","at","array_indexOf","rejection","rhs","delete","post","thisp","keys","object_keys","master","isDef","dispatch","spread","async","makeGenerator","continuer","verb","hasES6Generators","generator","errback","bind","spawn","_return","promised","promises","countDown","index","snapshot","allResolved","array_map","allSettled","nodeify","nodeback","flush","head","next","task","domain","enter","isNodeJS","exit","flushing","tail","requestTick","MessageChannel","channel","port1","onmessage","requestPortTick","port2","Function","reduce","basis","collect","Type","object_hasOwnProperty","hasOwnProperty","ReturnValue","makeNodeResolver","passByCopy","that","makePromise","_fulfilled","_rejected","newException","_progressed","newValue","threw","thenResolve","thenReject","getUnhandledReasons","stopUnhandledRejectionTracking","array","mapply","mcall","fapply","fcall","fbind","regardless","fin","onUnhandledError","ms","timeoutId","delay","nfapply","nodeArgs","nfcall","nfbind","denodeify","baseArgs","nbind","bound","nmapply","npost","nsend","nmcall","ninvoke",21,"./lib/_stream_duplex.js",22,"allowHalfOpen","_writableState","ended","xs","objectKeys","util","./_stream_readable","./_stream_writable","core-util-is",23,"_transform","cb","./_stream_transform",24,"ReadableState","hwm","highWaterMark","defaultHwm","objectMode","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","readableObjectMode","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","_readableState","readableAddChunk","addToFront","chunkInvalid","isNullOrUndefined","onEofChunk","emitReadable","maybeReadMore","needMoreData","roundUpToNextPowerOf2","MAX_HWM","howMuchToRead","isNull","debug","emitReadable_","flow","maybeReadMore_","pipeOnDrain","resumeScheduled","resume_","fromList","stringMode","cpy","endReadable","debuglog","setEncoding","nOrig","doRead","pipeOpts","onunpipe","onfinish","needDrain","unpipe","doEnd","stdout","stderr","endFn","dests","wrap","paused","_fromList","./_stream_duplex","isarray","string_decoder/",25,"TransformState","afterTransform","needTransform","transforming","writecb","writechunk","ts","_transformState","rs","_flush","ws","writeencoding",26,"WriteReq","WritableState","writableObjectMode","ending","finished","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","pendingcb","prefinished","errorEmitted","writeAfterEnd","validChunk","valid","decodeChunk","writeOrBuffer","doWrite","writev","_writev","onwriteError","onwriteStateUpdate","needFinish","clearBuffer","afterWrite","onwriteDrain","finishMaybe","cbs","entry","prefinish","need","endWritable","cork","uncork",27,"ar","isSymbol","isRegExp","re","objectToString","isDate","isError","isPrimitive",28,29,30,"isBufferEncoding","available",31,"./lib/_stream_passthrough.js",32,"./lib/_stream_readable.js","./lib/_stream_transform.js","./lib/_stream_writable.js",33,34,35,"stripBOM","../lib/xml2js",36,"prefixMatch","RegExp","normalize","firstCharLowerCase","stripPrefix",37,"bom","builder","isEmpty","processName","processors","sax","__hasProp","__extends","child","__super__","__bind","me","thing","processedName","_i","_len","0.1","explicitCharkey","normalizeTags","attrkey","charkey","ignoreAttrs","mergeAttrs","explicitRoot","validator","explicitChildren","childkey","charsAsChildren","strict","attrNameProcessors","tagNameProcessors","0.2","rootName","xmldec","standalone","doctype","renderOpts","pretty","indent","newline","headless","ValidationError","_super","Builder","opts","_ref","buildObject","rootObj","render","rootElement","element","attr","_ref1","txt","att","ele","up","callee","Parser","reset","assignOrPush","xmlnskey","ontext","saxParser","parser","errThrown","_this","EXPLICIT_CHARKEY","resultObject","onopentag","node","processedKey","attributes","uri","local","onclosetag","cdata","emptyStr","nodeName","old","xpath","pop","emptyTag","_error","getOwnPropertyNames","text","oncdata","close","./bom","./processors","xmlbuilder",38,"SAXParser","opt","clearBuffers","bufferCheckPosition","MAX_BUFFER_LENGTH","lowercase","lowercasetags","looseCase","tags","closed","closedRoot","sawRoot","tag","noscript","S","BEGIN","ENTITIES","attribList","ns","rootNS","trackPosition","column","checkBufferLength","maxAllowed","maxActual","buffers","closeText","emitNode","flushBuffers","createStream","SAXStream","_parser","_decoder","streamWraps","defineProperty","charClass","is","charclass","not","event","nodeType","textNode","textopts","strictFail","TEXT","newTag","tagName","qname","attribute","qualName","prefix","attrib","attribName","attribValue","qn","XML_NAMESPACE","XMLNS_NAMESPACE","openTag","selfClosing","nv","isSelfClosing","SCRIPT","closeTag","closeTo","parseEntity","entity","entityLC","numStr","fromCodePoint","OPEN_WAKA","startTagPosition","whitespace","starti","TEXT_ENTITY","SCRIPT_ENDING","CLOSE_TAG","SGML_DECL","sgmlDecl","nameStart","OPEN_TAG","PROC_INST","procInstName","procInstBody","pad","CDATA","COMMENT","comment","DOCTYPE","quote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","nameBody","OPEN_TAG_SLASH","ATTRIB","ATTRIB_NAME","ATTRIB_VALUE","ATTRIB_NAME_SAW_WHITE","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","attribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","returnState","EVENTS","__proto__","getPrototypeOf","ex","filter","SD","number","letter","xml","STATE","COMMENT_STARTING","amp","gt","lt","quot","apos","AElig","Aacute","Acirc","Agrave","Aring","Atilde","Auml","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","Iacute","Icirc","Igrave","Iuml","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","aelig","agrave","aring","atilde","auml","ccedil","eacute","ecirc","egrave","eth","euml","iacute","icirc","igrave","iuml","ntilde","oacute","ocirc","ograve","oslash","otilde","ouml","szlig","thorn","uacute","ucirc","ugrave","uuml","yacute","yuml","reg","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","shy","macr","deg","plusmn","sup1","sup2","sup3","acute","micro","para","middot","cedil","ordm","raquo","frac14","frac12","frac34","iquest","times","divide","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","frasl","euro","image","weierp","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sub","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams","stringFromCharCode","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","codePoint","string_decoder",39,"XMLAttribute","attName","attValue","lodash-node/modern/objects/create",40,"XMLBuilder","XMLDeclaration","XMLDocType","XMLElement","XMLStringifier","root","isRoot","documentObject","rootObject","declaration","pubID","sysID","_ref2","./XMLDeclaration","./XMLDocType","./XMLElement","./XMLStringifier",41,"XMLCData","XMLNode","level","space","./XMLNode",42,"XMLComment",43,"XMLDTDAttList","elementName","attributeName","attributeType","defaultValueType","defaultValue","eleName","dtdAttType","dtdAttDefault",44,"XMLDTDElement","dtdElementValue","lodash-node/modern/objects/isArray",45,"XMLDTDEntity","pe","dtdPubID","dtdSysID","nData","dtdNData","dtdEntityValue","lodash-node/modern/objects/isObject",46,"XMLDTDNotation",47,"xmlVersion","xmlEncoding","xmlStandalone",48,"children","attList","pEntity","notation","instruction","XMLProcessingInstruction","_ref3","ent","pent","dat","com","ins","doc","./XMLCData","./XMLComment","./XMLDTDAttList","./XMLDTDElement","./XMLDTDEntity","./XMLDTDNotation","./XMLProcessingInstruction",49,"instructions","clonedSelf","clonedChild","skipNullAttributes","removeAttribute","insTarget","insValue","_j","_len1","_ref4","_ref5","./XMLAttribute","lodash-node/modern/objects/isFunction",50,"lastChild","ignoreDecorators","convertAttKey","convertPIKey","convertListKey","convertTextKey","convertCDataKey","convertCommentKey","convertRawKey","raw","insertBefore","removed","insertAfter","remove","XMLText","XMLRaw","prev","importXMLBuilder","clonedRoot","nod","dec","dtd","./XMLRaw","./XMLText","lodash-node/modern/objects/isEmpty",51,52,53,"assertLegalChar","allowSurrogateChars","eleText","elEscape","attEscape","chars","chr",54,55,"assign","./XMLBuilder","lodash-node/modern/objects/assign",56,"func","thisArg","createWrapper","../internals/createWrapper","../internals/slice",57,"baseBind","bindData","partialArgs","thisBinding","baseCreate","setBindData","arrayRef","../objects/isObject","./baseCreate","./setBindData","./slice",58,"nativeCreate","isNative","../utilities/noop","./isNative",59,"baseCreateCallback","argCount","identity","__bindData__","support","funcNames","funcDecomp","fnToString","reFuncName","reThis","collection","accumulator","../functions/bind","../support","../utilities/identity",60,"baseCreateWrapper","isBind","partialRightArgs","isCurry","arity","bitmask","isCurryBound","isBindKey",61,"isPartial","isPartialRight","creater","../objects/isFunction","./baseBind","./baseCreateWrapper",62,"reNative","objectProto",63,"objectTypes","boolean","function",64,65,"shimKeys","iterable","./objectTypes",66,67,"guard","argsIndex","argsLength","ownIndex","ownProps","../internals/baseCreateCallback","../internals/objectTypes","./keys",68,"properties","../internals/baseCreate","./assign",69,"forOwn",70,"arrayClass","nativeIsArray","../internals/isNative",71,"className","stringClass","argsClass","objectClass","./forOwn","./isFunction",72,73,74,"nativeKeys","../internals/shimKeys","./isObject",75,"WinRTError","./internals/isNative",76,77],"mappings":"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","sourcesContent":["!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var o;\"undefined\"!=typeof window?o=window:\"undefined\"!=typeof global?o=global:\"undefined\"!=typeof self&&(o=self);var f=o;f=f.jsforce||(f.jsforce={}),f=f.modules||(f.modules={}),f=f.api||(f.api={}),f.Metadata=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (process,Buffer){\n/*global process, Buffer */\n/**\n * @file Manages Salesforce Metadata API\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\n\nvar inherits = require('inherits'),\n    events  = jsforce.require('events'),\n    stream  = jsforce.require('stream'),\n    Stream  = stream.Stream,\n    _       = jsforce.require('underscore'),\n    Promise = require('../promise'),\n    SOAP    = require('../soap');\n\n/*--------------------------------------------*/\n/**\n * Class for Salesforce Metadata API\n *\n * @class\n * @param {Connection} conn - Connection object\n */\nvar Metadata = module.exports = function(conn) {\n  this._conn = conn;\n};\n\n\n/**\n * Polling interval in milliseconds\n * @type {Number}\n */\nMetadata.prototype.pollInterval = 1000;\n\n/**\n * Polling timeout in milliseconds\n * @type {Number}\n */\nMetadata.prototype.pollTimeout = 10000;\n\n\n/**\n * Call Metadata API SOAP endpoint\n *\n * @private\n */\nMetadata.prototype._invoke = function(method, message, callback) {\n  var soapEndpoint = new SOAP({\n    sessionId: this._conn.accessToken,\n    serverUrl: this._conn.instanceUrl + \"/services/Soap/m/\" + this._conn.version,\n    xmlns: \"http://soap.sforce.com/2006/04/metadata\"\n  }, this._conn._transport);\n  return soapEndpoint.invoke(method, message).then(function(res) {\n    return res.result;\n  }).thenCall(callback);\n};\n\n\n/**\n * @typedef {Object} Metadata~MetadataInfo\n * @prop {String} fullName - The name of the component\n */\n\n/**\n * Asynchronously adds one or more new metadata components to the organization.\n *\n * @param {String} type - The type of metadata to create\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} metadata - Metadata to create\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\nMetadata.prototype.createAsync = function(type, metadata, callback) {\n  if (Number(this._conn.version) > 30) {\n    throw new Error(\"Async metadata CRUD calls are not supported on ver 31.0 or later.\");\n  }\n  var convert = function(md) {\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  var res = this._invoke(\"create\", { metadata: metadata });\n  return new AsyncResultLocator(this, res, isArray).thenCall(callback);\n};\n\n/**\n * @typedef {Object} Metadata~SaveResult\n * @prop {Boolean} success - True if metadata is successfully saved\n * @prop {String} fullName - Full name of metadata object\n */\n\n/**\n * @private\n */\nfunction convertToSaveResult(result) {\n  var saveResult = _.clone(result);\n  saveResult.success = saveResult.success === 'true';\n  return saveResult;\n}\n\n/**\n * @typedef {Object} Metadata~UpsertResult\n * @prop {Boolean} success - True if metadata is successfully saved\n * @prop {String} fullName - Full name of metadata object\n * @prop {Boolean} created - True if metadata is newly created\n */\n\n/**\n * @private\n */\nfunction convertToUpsertResult(result) {\n  var upsertResult = convertToSaveResult(result)\n  upsertResult.created = upsertResult.created === 'true';\n  return upsertResult;\n}\n\n/**\n * Synonym of Metadata#create().\n *\n * @method Metadata#createSync\n * @param {String} type - The type of metadata to create\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} metadata - Metadata to create\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\n/**\n * Synchronously adds one or more new metadata components to the organization.\n *\n * @method Metadata#create\n * @param {String} type - The type of metadata to create\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} metadata - Metadata to create\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\nMetadata.prototype.createSync =\nMetadata.prototype.create = function(type, metadata, callback) {\n  var convert = function(md) {\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  return this._invoke(\"createMetadata\", { metadata: metadata }).then(function(results) {\n    return _.isArray(results) ? _.map(results, convertToSaveResult) : convertToSaveResult(results);\n  }).thenCall(callback);\n};\n\n/**\n * @private\n */\nfunction convertToMetadataInfo(rec) {\n  var metadataInfo = _.clone(rec);\n  delete metadataInfo.$;\n  return metadataInfo;\n}\n\n/**\n * Synonym of Metadata#read()\n *\n * @method Metadata#readSync\n * @param {String} type - The type of metadata to read\n * @param {String|Array.<String>} fullNames - full name(s) of metadata objects to read\n * @param {Callback.<Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>>} [callback] - Callback function\n * @returns {Promise.<Array.<Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>>>}\n */\n/**\n * Synchronously read specified metadata components in the organization.\n *\n * @method Metadata#read\n * @param {String} type - The type of metadata to read\n * @param {String|Array.<String>} fullNames - full name(s) of metadata objects to read\n * @param {Callback.<Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>>} [callback] - Callback function\n * @returns {Promise.<Array.<Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>>>}\n */\nMetadata.prototype.readSync =\nMetadata.prototype.read = function(type, fullNames, callback) {\n  return this._invoke(\"readMetadata\", { type: type, fullNames: fullNames }).then(function(res) {\n    return _.isArray(res.records) ? _.map(res.records, convertToMetadataInfo) : convertToMetadataInfo(res.records);\n  }).thenCall(callback);\n};\n\n/**\n * @typedef {Object} Metadata~UpdateMetadataInfo\n * @prop {String} currentName - The API name of the component or field before the update\n * @prop {Metadata~MetadataInfo} metadata - Full specification of the component or field you wish to update\n */\n\n/**\n * Asynchronously updates one or more metadata components in the organization.\n *\n * @param {String} type - The type of metadata to update\n * @param {Metadata~UpdateMetadataInfo|Array.<Metadata~UpdateMetadataInfo>} updateMetadata - Updating metadata\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\nMetadata.prototype.updateAsync = function(type, updateMetadata, callback) {\n  if (Number(this._conn.version) > 30) {\n    throw new Error(\"Async metadata CRUD calls are not supported on ver 31.0 or later.\");\n  }\n  var convert = function(umd) {\n    umd.metadata[\"@xsi:type\"] = type;\n    return umd;\n  };\n  var isArray = _.isArray(updateMetadata);\n  updateMetadata = isArray ? _.map(updateMetadata, convert) : convert(updateMetadata);\n  var res = this._invoke(\"update\", { updateMetadata: updateMetadata });\n  return new AsyncResultLocator(this, res, isArray).thenCall(callback);\n};\n\n/**\n * Synonym of Metadata#update().\n *\n * @method Metadata#updateSync\n * @param {String} type - The type of metadata to update\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} updateMetadata - Updating metadata\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\n/**\n * Synchronously updates one or more metadata components in the organization.\n *\n * @method Metadata#update\n * @param {String} type - The type of metadata to update\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} updateMetadata - Updating metadata\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\nMetadata.prototype.updateSync =\nMetadata.prototype.update = function(type, metadata, callback) {\n  var convert = function(md) {\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  return this._invoke(\"updateMetadata\", { metadata: metadata }).then(function(results) {\n    return _.isArray(results) ? _.map(results, convertToSaveResult) : convertToSaveResult(results);\n  }).thenCall(callback);\n};\n\n/**\n * Upserts one or more components in your organization's data.\n *\n * @param {String} type - The type of metadata to upsert\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} metadata - Upserting metadata\n * @param {Callback.<Metadata~UpsertResult|Array.<Metadata~UpsertResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~UpsertResult|Array.<Metadata~UpsertResult>>}\n */\nMetadata.prototype.upsertSync =\nMetadata.prototype.upsert = function(type, metadata, callback) {\n  var convert = function(md) {\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  return this._invoke(\"upsertMetadata\", { metadata: metadata }).then(function(results) {\n    return _.isArray(results) ? _.map(results, convertToUpsertResult) : convertToUpsertResult(results);\n  }).thenCall(callback);\n};\n\n/**\n * Asynchronously deletes specified metadata components in the organization.\n *\n * @param {String} type - The type of metadata to delete\n * @param {String|Metadata~MetadataInfo|Array.<String>|Array.<Metadata~MetadataInfo>} metadata - The fullName of metadata or metadata info to delete. If it is passed in fullName, the type parameter should not be empty.\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\nMetadata.prototype.deleteAsync = function(type, metadata, callback) {\n  if (Number(this._conn.version) > 30) {\n    throw new Error(\"Async metadata CRUD calls are not supported on ver 31.0 or later.\");\n  }\n  var convert = function(md) {\n    if (_.isString(md)) {\n      md = { fullName : md };\n    }\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  var res = this._invoke(\"delete\", { metadata: metadata });\n  return new AsyncResultLocator(this, res, isArray).thenCall(callback);\n};\n\n/**\n * Synonym of Metadata#delete().\n *\n * @deprecated\n * @method Metadata#del\n * @param {String} [type] - The type of metadata to delete\n * @param {String|Metadata~MetadataInfo|Array.<String>|Array.<Metadata~MetadataInfo>} metadata - The fullName of metadata or metadata info to delete. If it is passed in fullName, the type parameter should not be empty.\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\n/**\n * Synonym of Metadata#delete().\n *\n * @method Metadata#deleteSync\n * @param {String} type - The type of metadata to delete\n * @param {String|Array.<String>} fullNames - The fullName of metadata to delete.\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\n\n/**\n * Synchronously deletes specified metadata components in the organization.\n *\n * @method Metadata#delete\n * @param {String} type - The type of metadata to delete\n * @param {String|Array.<String>} fullNames - The fullName of metadata to delete.\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\nMetadata.prototype.del =\nMetadata.prototype.deleteSync =\nMetadata.prototype[\"delete\"] = function(type, fullNames, callback) {\n  return this._invoke(\"deleteMetadata\", { type: type, fullNames: fullNames }).then(function(results) {\n    return _.isArray(results) ? _.map(results, convertToSaveResult) : convertToSaveResult(results);\n  }).thenCall(callback);\n};\n\n/**\n * Rename fullname of a metadata component in the organization\n *\n * @param {String} type - The type of metadata to delete\n * @param {String} oldFullName - The original fullName of metadata\n * @param {String} newFullName - The new fullName of metadata\n * @param {Callback.<Metadata~SaveResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult>}\n */\nMetadata.prototype.rename = function(type, oldFullName, newFullName, callback) {\n  return this._invoke(\"renameMetadata\", { type: type, oldFullName: oldFullName, newFullName: newFullName }).then(function(result) {\n    return convertToSaveResult(result);\n  }).thenCall(callback);\n};\n\n/**\n * Checks the status of asynchronous metadata calls\n *\n * @param {String|Array.<String>} ids - The asynchronous process ID(s)\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\nMetadata.prototype.checkStatus = function(ids, callback) {\n  var isArray = _.isArray(ids);\n  var res = this._invoke(\"checkStatus\", { asyncProcessId: ids });\n  return new AsyncResultLocator(this, res, isArray).thenCall(callback);\n};\n\n/**\n * @typedef {Object} Metadata~DescribeMetadataResult\n * @prop {Array.<Object>} metadataObjects - One or more metadata components and their attributes\n * @prop {Array.<String>} metadataObjects.childXmlNames - List of child sub-components for this component\n * @prop {String} metadataObjects.directoryName - The name of the directory in the .zip file that contains this component\n * @prop {Boolean} metadataObjects.inFolder - Indicates whether the component is in a folder or not\n * @prop {Boolean} metadataObjects.metaFile - Indicates whether the component requires an accompanying metadata file\n * @prop {String} metadataObjects.suffix - The file suffix for this component\n * @prop {String} metadataObjects.xmlName - The name of the root element in the metadata file for this component\n * @prop {String} organizationNamespace - The namespace of the organization\n * @prop {Boolean} partialSaveAllowed - Indicates whether rollbackOnError is allowed or not\n * @prop {Boolean} testRequired - Indicates whether tests are required or not\n */\n\n/**\n * Retrieves the metadata which describes your organization, including Apex classes and triggers,\n * custom objects, custom fields on standard objects, tab sets that define an app,\n * and many other components.\n *\n * @param {String} [version] - The API version for which you want metadata; for example, 29.0\n * @param {Callback.<Metadata~DescribeMetadataResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~DescribeMetadataResult>}\n */\nMetadata.prototype.describe = function(version, callback) {\n  if (!_.isString(version)) {\n    callback = version;\n    version = this._conn.version;\n  }\n  return this._invoke(\"describeMetadata\", { asOfVersion: version }).then(function(res) {\n    res.metadataObjects = _.isArray(res.metadataObjects) ? res.metadataObjects : [ res.metadataObjects ];\n    res.metadataObjects = _.map(res.metadataObjects, function(mo) {\n      if (mo.childXmlNames) {\n        mo.childXmlNames = _.isArray(mo.childXmlNames) ? mo.childXmlNames: [ mo.childXmlNames ];\n      }\n      mo.inFolder = mo.inFolder === 'true';\n      mo.metaFile = mo.metaFile === 'true';\n      return mo;\n    });\n    res.partialSaveAllowed = res.partialSaveAllowed === 'true';\n    res.testRequired = res.testRequired === 'true';\n    return res;\n  }).thenCall(callback);\n};\n\n/**\n * @typedef {Object} Metadata~ListMetadataQuery\n * @prop {String} type - The metadata type, such as CustomObject, CustomField, or ApexClass\n * @prop {String} [folder] - The folder associated with the component.\n */\n\n/**\n * @typedef {Object} Metadata~FileProperties\n * @prop {String} type - The metadata type, such as CustomObject, CustomField, or ApexClass\n * @prop {String} createdById - ID of the user who created the file\n * @prop {String} createdByName - Name of the user who created the file\n * @prop {String} createdDate - Date and time when the file was created\n * @prop {String} fileName - Name of the file\n * @prop {String} fullName - The file developer name used as a unique identifier for API access\n * @prop {String} id - ID of the file\n * @prop {String} lastModifiedById - ID of the user who last modified the file\n * @prop {String} lastModifiedByName - Name of the user who last modified the file\n * @prop {String} lastModifiedDate - Date and time that the file was last modified\n * @prop {String} [manageableState] - Indicates the manageable state of the specified component if it is contained in a package\n * @prop {String} [namespacePrefix] - The namespace prefix of the component\n */\n\n/**\n * Retrieves property information about metadata components in your organization\n *\n * @param {Metadata~ListMetadataQuery|Array.<Metadata~ListMetadataQuery>} queries - The criteria object(s) specifing metadata to list\n * @param {String} [version] - The API version for which you want metadata; for example, 29.0\n * @param {Callback.<Array.<Metadata~FileProperties>>} [callback] - Callback function\n * @returns {Promise.<Array.<Metadata~FileProperties>>}\n */\nMetadata.prototype.list = function(queries, version, callback) {\n  if (!_.isString(version)) {\n    callback = version;\n    version = this._conn.version;\n  }\n  if (!_.isArray(queries)) {\n    queries = [ queries ];\n  }\n  return this._invoke(\"listMetadata\", { queries: queries, asOfVersion: version }, callback);\n};\n\n/**\n * @typedef {Object} Metadata~RetrieveRequest\n */\n\n/**\n * Retrieves XML file representations of components in an organization\n *\n * @param {Metadata~RetrieveRequest} request - Options for determining which packages or files are retrieved\n * @param {Callback.<Metadata~AsyncResult>} [callback] - Callback function\n * @returns {Metadata~RetrieveResultLocator}\n */\nMetadata.prototype.retrieve = function(request, callback) {\n  var res = this._invoke(\"retrieve\", { request: request });\n  return new RetrieveResultLocator(this, res).thenCall(callback);\n};\n\n/**\n * Checks the status of declarative metadata call retrieve() and returns the zip file contents\n *\n * @param {String} id - Async process id returned from previous retrieve request\n * @param {Callback.<Metadata~RetrieveResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~RetrieveResult>}\n */\nMetadata.prototype.checkRetrieveStatus = function(id, callback) {\n  return this._invoke(\"checkRetrieveStatus\", { asyncProcessId: id }, callback);\n};\n\n/**\n * Deploy components into an organization using zipped file representations\n *\n * @param {stream.Stream|Buffer} zipInput - Zipped file input source in readable stream or binary buffer\n * @param {Object} [options] - Options used in deployment\n * @param {Boolean} [options.allowMissingFiles] - Specifies whether a deploy succeeds even if files that are specified in package.xml but are not in the .zip file or not.\n * @param {Boolean} [options.autoUpdatePackage] - If a file is in the .zip file but not specified in package.xml, specifies whether the file should be automatically added to the package or not.\n * @param {Boolean} [options.checkOnly] - Indicates whether Apex classes and triggers are saved to the organization as part of the deployment (false) or not (true).\n * @param {Boolean} [options.ignoreWarnings] - Indicates whether a warning should allow a deployment to complete successfully (true) or not (false). Defaults to false.\n * @param {Boolean} [options.performRetrieve] - Indicates whether a retrieve() call is performed immediately after the deployment (true) or not (false).\n * @param {Boolean} [options.purgeOnDelete] - If true, the deleted components in the destructiveChanges.xml manifest file aren't stored in the Recycle Bin.\n * @param {Boolean} [options.rollbackOnError] - Indicates whether any failure causes a complete rollback (true) or not (false).\n * @param {Boolean} [options.runAllTests] - If true, all Apex tests defined in the organization are run.\n * @param {Array.<String>} [options.runTests] - A list of Apex tests to be run during deployment.\n * @param {Boolean} [options.singlePackage] - Indicates whether the specified .zip file points to a directory structure with a single package (true) or a set of packages (false).\n * @param {Callback.<Metadata~AsyncResult>} [callback] - Callback function\n * @returns {Metadata~DeployResultLocator}\n */\nMetadata.prototype.deploy = function(zipInput, options, callback) {\n  if (!options || _.isFunction(options)) {\n    callback = options;\n    options = {};\n  }\n  var deferred = Promise.defer();\n  if (zipInput instanceof Stream) {\n    var bufs = [];\n    zipInput.on('data', function(d) {\n      bufs.push(d);\n    });\n    zipInput.on('end', function() {\n      deferred.resolve(Buffer.concat(bufs));\n    });\n    zipInput.resume();\n  } else if (zipInput instanceof Buffer) {\n    deferred.resolve(zipInput);\n  } else {\n    throw \"Unexpected zipInput type\";\n  }\n\n  var self = this;\n  var res = deferred.promise.then(function(zipContentBuffer) {\n    var zipContentB64 = zipContentBuffer.toString('base64');\n    return self._invoke(\"deploy\", { ZipFile: zipContentB64, DeployOptions: options }, callback);\n  });\n  return new DeployResultLocator(this, res).thenCall(callback);\n};\n\n/**\n * Checks the status of declarative metadata call deploy()\n *\n * @param {String} id - Async process id returned from previous deploy request\n * @param {Boolean} [includeDetails] - Sets the DeployResult object to include details information (default: false)\n * @param {Callback.<Metadata~DeployResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~DeployResult>}\n */\nMetadata.prototype.checkDeployStatus = function(id, includeDetails, callback) {\n  if (_.isObject(includeDetails) || _.isBoolean(includeDetails)) {\n    includeDetails = !!includeDetails;\n  } else {\n    callback = includeDetails;\n    includeDetails = false;\n  }\n  return this._invoke(\"checkDeployStatus\", {\n    asyncProcessId: id,\n    includeDetails : includeDetails\n  }).then(function(res) {\n    res.done = res.done === 'true';\n    res.success = res.success === 'true';\n    res.checkOnly = res.checkOnly === 'true';\n    if (res.ignoreWarnings) {\n      res.ignoreWarnings = res.ignoreWarnings === 'true';\n    }\n    if (res.rollbackOnError) {\n      res.rollbackOnError = res.rollbackOnError === 'true';\n    }\n    res.numberComponentErrors = Number(res.numberComponentErrors);\n    res.numberComponentsDeployed = Number(res.numberComponentsDeployed);\n    res.numberComponentsTotal = Number(res.numberComponentsTotal);\n    res.numberTestErrors = Number(res.numberTestErrors);\n    res.numberTestsCompleted = Number(res.numberTestsCompleted);\n    res.numberTestsTotal = Number(res.numberTestsTotal);\n\n    return res;\n  }).thenCall(callback);\n};\n\n/*--------------------------------------------*/\n\n/**\n * @typedef {Object} Metadata~AsyncResult\n * @prop {Boolean} done - Indicates whether the call has completed or not\n * @prop {String} id - ID of the component being created, updated, deleted, deployed, or retrieved\n * @prop {String} state - The state four possible values: Queued, InProgress, Completed, and Error.\n * @prop {String} [statusCode] - If an error occurred during the create(), update(), or delete() call, a status code is returned\n * @prop {String} [message] - Message corresponding to the statusCode field returned\n */\n\n/**\n * The locator class for Metadata API asynchronous call result\n *\n * @protected\n * @class Metadata~AsyncResultLocator\n * @extends events.EventEmitter\n * @implements Promise.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>\n * @param {Metadata} meta - Metadata API object\n * @param {Promise.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} results - Promise object for async result info\n * @param {Boolean} [isArray] - Indicates whether the async request is given in array or single object\n */\nvar AsyncResultLocator = function(meta, results, isArray) {\n  this._meta = meta;\n  this._results = results;\n  this._isArray = isArray;\n};\n\ninherits(AsyncResultLocator, events.EventEmitter);\n\n/**\n * Promise/A+ interface\n * http://promises-aplus.github.io/promises-spec/\n *\n * Delegate to deferred promise, return promise instance for batch result\n *\n * @method Metadata~AsyncResultLocator#then\n */\nAsyncResultLocator.prototype.then = function(onResolve, onReject) {\n  var self = this;\n  return this._results.then(function(results) {\n    var convertType = function(res) {\n      if (res.$ && res.$[\"xsi:nil\"] === 'true') {\n        return null;\n      }\n      res.done = res.done === 'true';\n      return res;\n    };\n    results = _.isArray(results) ? _.map(results, convertType) : convertType(results);\n    if (self._isArray && !_.isArray(results)) {\n      results = [ results ];\n    }\n    return onResolve(results);\n  }, onReject);\n};\n\n/**\n * Promise/A+ extension\n * Call \"then\" using given node-style callback function\n *\n * @method Metadata~AsyncResultLocator#thenCall\n */\nAsyncResultLocator.prototype.thenCall = function(callback) {\n  return _.isFunction(callback) ? this.then(function(res) {\n    process.nextTick(function() {\n      callback(null, res);\n    });\n  }, function(err) {\n    process.nextTick(function() {\n      callback(err);\n    });\n  }) : this;\n};\n\n/**\n * Check the status of async request\n *\n * @method Metadata~AsyncResultLocator#check\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>}\n */\nAsyncResultLocator.prototype.check = function(callback) {\n  var self = this;\n  var meta = this._meta;\n  return this.then(function(results) {\n    var ids = _.isArray(results) ? _.map(results, function(res){ return res.id; }) : results.id;\n    return meta.checkStatus(ids);\n  }).thenCall(callback);\n};\n\n/**\n * Polling until async call status becomes complete or error\n *\n * @method Metadata~AsyncResultLocator#poll\n * @param {Number} interval - Polling interval in milliseconds\n * @param {Number} timeout - Polling timeout in milliseconds\n */\nAsyncResultLocator.prototype.poll = function(interval, timeout) {\n  var self = this;\n  var startTime = new Date().getTime();\n  var poll = function() {\n    var now = new Date().getTime();\n    if (startTime + timeout < now) {\n      self.emit('error', new Error(\"polling time out\"));\n      return;\n    }\n    self.check().then(function(results) {\n      var done = true;\n      var resultArr = _.isArray(results) ? results : [ results ];\n      for (var i=0, len=resultArr.length; i<len; i++) {\n        var result = resultArr[i];\n        if (result && !result.done) {\n          done = false;\n        }\n      }\n      if (done) {\n        self.emit('complete', results);\n      } else {\n        setTimeout(poll, interval);\n      }\n    }, function(err) {\n      self.emit('error', err);\n    });\n  };\n  setTimeout(poll, interval);\n};\n\n/**\n * Check and wait until the async requests become in completed status\n *\n * @method Metadata~AsyncResultLocator#complete\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>}\n */\nAsyncResultLocator.prototype.complete = function(callback) {\n  var deferred = Promise.defer();\n  this.on('complete', function(results) {\n    deferred.resolve(results);\n  });\n  this.on('error', function(err) {\n    deferred.reject(err);\n  });\n  var meta = this._meta;\n  this.poll(meta.pollInterval, meta.pollTimeout);\n  return deferred.promise.thenCall(callback);\n};\n\n/*--------------------------------------------*/\n/**\n * The locator class to track retreive() Metadata API call result\n *\n * @protected\n * @class Metadata~RetrieveResultLocator\n * @extends Metadata~AsyncResultLocator\n * @param {Metadata} meta - Metadata API object\n * @param {Promise.<Metadata~AsyncResult>} result - Promise object for async result of retrieve call()\n */\nvar RetrieveResultLocator = function(meta, result) {\n  RetrieveResultLocator.super_.call(this, meta, result);\n};\n\ninherits(RetrieveResultLocator, AsyncResultLocator);\n\n/**\n * @typedef {Object} Metadata~RetrieveResult\n * @prop {Array.<Metadata~FileProperties>} fileProperties - Contains information about the properties of each component in the .zip file, and the manifest file package.xml\n * @prop {String} id - ID of the component being retrieved\n * @prop {Array.<Object>} messages - Contains information about the success or failure of the retrieve() call\n * @prop {String} zipFile - The zip file returned by the retrieve request. Base 64-encoded binary data\n */\n\n/**\n * Check and wait until the async request becomes in completed status,\n * and retrieve the result data.\n *\n * @memthod Metadata~RetrieveResultLocator#complete\n * @param {Callback.<Metadata~RetrieveResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~RetrieveResult>}\n */\nRetrieveResultLocator.prototype.complete = function(callback) {\n  var meta = this._meta;\n  return RetrieveResultLocator.super_.prototype.complete.call(this).then(function(result) {\n    return meta.checkRetrieveStatus(result.id);\n  }).thenCall(callback);\n};\n\n/**\n * Change the retrieved result to Node.js readable stream\n *\n * @method Metadata~RetrieveResultLocator#stream\n * @returns {stream.Stream}\n */\nRetrieveResultLocator.prototype.stream = function() {\n  var rstream = new Stream();\n  rstream.readable = true;\n  this.complete(function(err, result) {\n    if (err) {\n      rstream.emit('error', err);\n    } else {\n      rstream.emit('data', new Buffer(result.zipFile, 'base64'));\n      rstream.emit('end');\n    }\n  });\n  return rstream;\n};\n\n/*--------------------------------------------*/\n/**\n * The locator class to track deploy() Metadata API call result\n *\n * @protected\n * @class Metadata~DeployResultLocator\n * @extends Metadata~AsyncResultLocator\n * @param {Metadata} meta - Metadata API object\n * @param {Promise.<Metadata~AsyncResult>} result - Promise object for async result of deploy() call\n */\nvar DeployResultLocator = function(meta, result) {\n  DeployResultLocator.super_.call(this, meta, result);\n};\n\ninherits(DeployResultLocator, AsyncResultLocator);\n\n/**\n * @typedef {Object} Metadata~DeployResult\n * @prop {String} id - ID of the component being deployed\n * @prop {Boolean} checkOnly - Indicates whether this deployment is being used to check the validity of the deployed files without making any changes in the organization or not\n * @prop {String} completedDate - Timestamp for when the deployment process ended\n * @prop {String} createdDate - Timestamp for when the deploy() call was received\n * @prop {Array.<Object>} [details] - Provides the details of a deployment that is in-progress or ended, if includeDetails is set to true in checkDeployStatus() call\n * @prop {Boolean} done - Indicates whether the server finished processing the deploy() call for the specified id\n * @prop {String} [errorMessage] - Message corresponding to the values in the errorStatusCode field\n * @prop {String} [errorStatusCode] - If an error occurred during the deploy() call, a status code is returned, and the message corresponding to the status code is returned in the errorMessagefield\n * @prop {Boolean} [ignoreWarnings] - Specifies whether a deployment should continue even if the deployment generates warnings\n * @prop {String} lastModifiedDate - Timestamp of the last update for the deployment process\n * @prop {Number} numberComponentErrors - The number of components that generated errors during this deployment\n * @prop {Number} numberComponentsDeployed - The number of components deployed in the deployment process\n * @prop {Number} numberComponentsTotal - The total number of components in the deployment\n * @prop {Number} numberTestErrors - The number of Apex tests that have generated errors during this deployment\n * @prop {Number} numberTestsCompleted - The number of completedApex tests for this deployment\n * @prop {Number} numberTestsTotal - The total number of Apex tests for this deployment\n * @prop {Boolean} [rollbackOnError] - Indicates whether any failure causes a complete rollback or not. Default is true.\n * @prop {String} startDate - Timestamp for when the deployment process began\n * @prop {String} status - Indicates the current state of the deployment\n * @prop {Boolean} success - Indicates whether the deployment was successful or not\n */\n\n/**\n * Check and wait until the async request becomes in completed status,\n * and retrieve the result data.\n *\n * @method Metadata~DeployResultLocator#complete\n * @param {Callback.<Metadata~DeployResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~DeployResult>}\n */\nDeployResultLocator.prototype.complete = function(includeDetails, callback) {\n  if (_.isFunction(includeDetails)) {\n    callback = includeDetails;\n    includeDetails = false;\n  }\n  var meta = this._meta;\n  return DeployResultLocator.super_.prototype.complete.call(this).then(function(result) {\n    return meta.checkDeployStatus(result.id, includeDetails);\n  }).thenCall(callback);\n};\n\n}).call(this,require('_process'),require(\"buffer\").Buffer)\n},{\"../promise\":5,\"../soap\":6,\"_process\":16,\"buffer\":10,\"inherits\":19}],2:[function(require,module,exports){\n/*global Sfdc */\nvar stream = jsforce.require('stream'),\n    _ = jsforce.require('underscore');\n\nfunction parseHeaders(hs) {\n  var headers = {};\n  hs.split(/\\n/).forEach(function(line) {\n    var pair = line.split(/\\s*:\\s*/);\n    var name = pair[0].toLowerCase();\n    var value = pair[1];\n    headers[name] = value;\n  });\n  return headers;\n}\n\nmodule.exports = {\n  \n  supported: typeof Sfdc === 'object' && typeof Sfdc.canvas !== 'undefined',\n\n  createRequest: function(signedRequest) {\n    return function(params, callback) {\n      var response;\n      var str = new stream.Duplex();\n      str._read = function(size) {\n        if (response) {\n          str.push(response.body);\n        }\n      };\n      var bufs = [];\n      var sent = false;\n      str._write = function(chunk, encoding, callback) {\n        bufs.push(chunk.toString(encoding));\n        callback();\n      };\n      str.on('finish', function() {\n        if (!sent) {\n          send(bufs.join(''));\n          sent = true;\n        }\n      });\n      if (params.body || params.body === \"\" || !/^(put|post|patch)$/i.test(params.method)) {\n        send(params.body);\n        sent = true;\n      }\n\n      function send(body) {\n        var settings = {\n          client: signedRequest.client,\n          method: params.method,\n          data: body\n        };\n        if (params.headers) {\n          settings.headers = {};\n          for (var name in params.headers) {\n            if (name.toLowerCase() === 'content-type') {\n              settings.contentType = params.headers[name];\n            } else {\n              settings.headers[name] = params.headers[name];\n            }\n          }\n        }\n        settings.success = function(data) {\n          var headers = parseHeaders(data.responseHeaders);\n          var body = data.payload;\n          if (!_.isString(body)) {\n            body = JSON.stringify(body);\n          }\n          response = {\n            statusCode : data.status,\n            headers: headers,\n            body: body\n          };\n          if (callback) {\n            callback(null, response, response.body);\n          }\n          str.end();\n        };\n        settings.failure = function(err) {\n          if (callback) {\n            callback(err);\n          }\n        };\n        Sfdc.canvas.client.ajax(params.url, settings);\n      }\n      return str;\n    };\n  }\n};\n\n\n},{}],3:[function(require,module,exports){\n/*global window, document */\nvar _index = 0;\n\nmodule.exports = {\n\n  supported: typeof window !== 'undefined',\n\n  createRequest: function(jsonpParam, timeout) {\n    jsonpParam = jsonpParam || 'callback';\n    timeout = timeout || 10000;\n\n    return function(params, callback) {\n      if (params.method.toUpperCase() !== 'GET') {\n        return callback(new Error('JSONP only supports GET request.'));\n      }\n      var cbFuncName = '_jsforce_jsonpCallback_' + (++_index);\n      var callbacks = window;\n      var url = params.url;\n      url += url.indexOf('?')>0 ? '&' : '?';\n      url += jsonpParam + '=' + cbFuncName;\n\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = url;\n      document.documentElement.appendChild(script);\n\n      var pid = setTimeout(function() {\n        cleanup();\n        callback(new Error(\"JSONP call time out.\"));\n      }, timeout);\n\n      callbacks[cbFuncName] = function(res) {\n        cleanup();\n        callback(null, {\n          statusCode: 200,\n          headers: { \"content-type\": \"application/json\" },\n          body: JSON.stringify(res)\n        });\n      };\n\n      var cleanup = function() {\n        clearTimeout(pid);\n        document.documentElement.removeChild(script);\n        delete callbacks[cbFuncName];\n      };\n    };\n\n  }\n\n};\n},{}],4:[function(require,module,exports){\nvar stream = jsforce.require('stream');\nvar _ = jsforce.require('underscore');\n\nmodule.exports = function(params, callback) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(params.method, params.url);\n  if (params.headers) {\n    for (var header in params.headers) {\n      xhr.setRequestHeader(header, params.headers[header]);\n    }\n  }\n  xhr.setRequestHeader(\"Accept\", \"*/*\");\n  var response;\n  var str = new stream.Duplex();\n  str._read = function(size) {\n    if (response) {\n      str.push(response.body);\n    }\n  };\n  var bufs = [];\n  var sent = false;\n  str._write = function(chunk, encoding, callback) {\n    bufs.push(chunk.toString(encoding === \"buffer\" ? \"binary\" : encoding));\n    callback();\n  };\n  str.on('finish', function() {\n    if (!sent) {\n      xhr.send(bufs.join(''));\n      sent = true;\n    }\n  });\n  if (params.body || params.body === \"\" || !/^(put|post|patch)$/i.test(params.method)) {\n    xhr.send(params.body);\n    sent = true;\n  }\n  xhr.onreadystatechange = function() {\n    if (xhr.readyState === 4) {\n      var headerNames = getResponseHeaderNames(xhr);\n      var headers = {}\n      _.forEach(headerNames, function(headerName) {\n        if (headerName) {\n          headers[headerName] = xhr.getResponseHeader(headerName);\n        }\n      });\n      response = {\n        statusCode: xhr.status,\n        headers: headers,\n        body: xhr.response\n      };\n      if (!response.statusCode) {\n        response.statusCode = 400;\n        response.body = \"Access Declined\";\n      }\n      if (callback) {\n        callback(null, response, response.body);\n      }\n      str.end();\n    }\n  };\n  return str;\n};\n\nfunction getResponseHeaderNames(xhr) {\n  var headerLines = (xhr.getAllResponseHeaders() || \"\").split(/[\\r\\n]+/);\n  return _.map(headerLines, function(headerLine) {\n    return headerLine.split(/\\s*:/)[0].toLowerCase();\n  });\n}\n\n\n},{}],5:[function(require,module,exports){\n(function (process){\n/*global process*/\nvar Q = require('q'),\n    _ = jsforce.require('underscore')._;\n\n/**\n * Promises/A+ spec compliant class, with a little extension\n * http://promises-aplus.github.io/promises-spec/\n *\n * @class Promise\n * @constructor\n * @param {Promise.<T>|T} o - Object to wrap with promise\n * @template T\n */\nvar Promise = function(o) {\n  this._promise = Q(o);\n};\n\n/**\n * @callback FulfilledCallback\n * @param {T} result - Fulfilled value\n * @returns {S}\n * @template T,S\n */\n\n/**\n * @callback RejectedCallback\n * @param {Error} reason - Rejected reason\n * @returns {S}\n * @template S\n */\n\n/**\n * The \"then\" method from the Promises/A+ specification\n *\n * @param {FulfilledCallback.<T, S1>} [onFulfilled]\n * @param {RejectedCallback.<S2>} [onRejected]\n * @returns {Promise.<S1|S2>}\n */\nPromise.prototype.then = function() {\n  // Delegate Q promise implementation and wrap by our Promise instance\n  return new Promise(this._promise.then.apply(this._promise, arguments));\n};\n\n/**\n * Call \"then\" using given node-style callback function\n *\n * @param {Callback.<T>} [callback] - Callback function\n * @returns {Promise}\n */\nPromise.prototype.thenCall = function(callback) {\n  if (_.isFunction(callback)) {\n    this.then(function(res) {\n      process.nextTick(function() {\n        callback(null, res);\n      });\n    }, function(err) {\n      process.nextTick(function() {\n        callback(err);\n      });\n    });\n  }\n  return this;\n};\n\n/**\n * A sugar method, equivalent to promise.then(undefined, onRejected).\n *\n * @param {RejectedCallback.<S>} onRejected\n * @returns {Promise.<S>}\n */\nPromise.prototype.fail = function() {\n  return new Promise(this._promise.fail.apply(this._promise, arguments));\n};\n\n/**\n * Alias for completion\n *\n * @param {FulfilledCallback.<T, S>} [onFulfilled]\n * @returns {Promise.<S>}\n */\nPromise.prototype.done = function() {\n  return new Promise(this._promise.done.apply(this._promise, arguments));\n};\n\n/**\n * @param {...Promise.<*>} p\n */\nPromise.when = function() {\n  return new Promise(Q.when.apply(Q, arguments));\n};\n\n/**\n * Returns rejecting promise with given reason\n *\n * @param {Error} reason - Rejecting reason\n * @returns {Promise}\n */\nPromise.reject = function(reason) {\n  return new Promise(Q.reject(reason));\n};\n\n/**\n * Returns a promise that is fulfilled with an array containing the fulfillment value of each promise, \n * or is rejected with the same rejection reason as the first promise to be rejected.\n *\n * @param {Array.<Promise.<*>|*>} promises\n * @returns {Promise.<Array.<*>>}\n */\nPromise.all = function() {\n  return new Promise(Q.all.apply(Q, arguments));\n};\n\n/**\n * Returns a deferred object\n *\n * @returns {Deferred}\n */\nPromise.defer = function() {\n  return new Deferred();\n};\n\n/**\n * Deferred object\n *\n * @protected\n * @constructor\n */\nvar Deferred = function() {\n  this._deferred = Q.defer();\n  this.promise = new Promise(this._deferred.promise);\n};\n\n/**\n * Resolve promise\n * @param {*} result - Resolving result\n */\nDeferred.prototype.resolve = function() {\n  return this._deferred.resolve.apply(this._promise, arguments);\n};\n\n/**\n * Reject promise\n * @param {Error} error - Rejecting reason\n */\nDeferred.prototype.reject = function() {\n  return this._deferred.reject.apply(this._promise, arguments);\n};\n\n/**\n *\n */\nmodule.exports = Promise;\n\n}).call(this,require('_process'))\n},{\"_process\":16,\"q\":20}],6:[function(require,module,exports){\n/**\n * @file Manages method call to SOAP endpoint\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar _ = jsforce.require('underscore'),\n    xml2js = require('xml2js'),\n    Transport = require('./transport');\n\n/**\n * Class for SOAP endpoint of Salesforce\n *\n * @protected\n * @class\n * @constructor\n * @param {Object} options - SOAP endpoint setting options\n * @param {String} options.serverUrl - SOAP endpoint URL\n * @param {String} options.sessionId - Salesforce session ID\n * @param {String} [options.xmlns] - XML namespace for method call (default is \"urn:partner.soap.sforce.com\")\n * @param {Transport} [transport] - HTTP request transport instance\n */\nvar SOAP = module.exports = function(options, transport) {\n  this.serverUrl = options.serverUrl;\n  this.sessionId = options.sessionId;\n  this.xmlns = options.xmlns || 'urn:partner.soap.sforce.com';\n  this._transport = transport;\n  if (!this._transport) {\n    this._transport = options.proxyUrl ? new Transport() : new Transport.ProxyTransport(options.proxyUrl);\n  }\n};\n\n/**\n * Invoke SOAP call using method and arguments\n * \n * @param {String} method - Method name\n * @param {Object} args - Arguments for the method call\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nSOAP.prototype.invoke = function(method, args, callback) {\n  var message = {};\n  message[method] = args;\n  var soapEnvelope = this._createEnvelope(message);\n  return this._transport.httpRequest({\n    method: 'POST',\n    url: this.serverUrl,\n    headers: {\n      'Content-Type': 'text/xml',\n      'SOAPAction': '\"\"'\n    },\n    body: soapEnvelope\n  }).then(function(res) {\n    var ret = null;\n    xml2js.parseString(res.body, { explicitArray: false }, function(err, value) { ret = value; });\n    if (ret) {\n      var error = lookupValue(ret, [ /:Envelope$/, /:Body$/, /:Fault$/, /faultstring$/ ]);\n      if (error) {\n        throw new Error(error);\n      }\n      return lookupValue(ret, [ /:Envelope$/, /:Body$/, /.+/ ]);\n    }\n    throw new Error(\"invalid response\");\n  }).thenCall(callback);\n};\n\n/**\n * @private\n */\nfunction lookupValue(obj, propRegExps) {\n  var regexp = propRegExps.shift();\n  if (!regexp) {\n    return obj; \n  }\n  else {\n    for (var prop in obj) {\n      if (regexp.test(prop)) {\n        return lookupValue(obj[prop], propRegExps);\n      }\n    }\n    return null;\n  }\n}\n\n/**\n * @private\n */\nfunction toXML(name, value) {\n  if (_.isObject(name)) {\n    value = name;\n    name = null;\n  }\n  if (_.isArray(value)) {\n    return _.map(value, function(v) { return toXML(name, v); }).join('');\n  } else {\n    var attrs = [];\n    var elems = [];\n    if (_.isObject(value)) {\n      for (var k in value) {\n        var v = value[k];\n        if (k[0] === '@') {\n          k = k.substring(1);\n          attrs.push(k + '=\"' + v + '\"');\n        } else {\n          elems.push(toXML(k, v));\n        }\n      }\n      value = elems.join('');\n    } else {\n      value = String(value);\n    }\n    var startTag = name ? '<' + name + (attrs.length > 0 ? ' ' + attrs.join(' ') : '') + '>' : '';\n    var endTag = name ? '</' + name + '>' : '';\n    return  startTag + value + endTag;\n  }\n}\n\n/**\n * @private\n */\nSOAP.prototype._createEnvelope = function(message) {\n  return [\n    '<?xml version=\"1.0\" encoding=\"UTF-8\"?>',\n    '<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"',\n    ' xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"',\n    ' xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">',\n    '<soapenv:Header xmlns=\"' + this.xmlns + '\">',\n      '<SessionHeader>',\n      '<sessionId>' + this.sessionId + '</sessionId>',\n      '</SessionHeader>',\n    '</soapenv:Header>',\n    '<soapenv:Body xmlns=\"' + this.xmlns + '\">',\n    toXML(message),\n    '</soapenv:Body>',\n    '</soapenv:Envelope>'\n  ].join('');\n};\n\n},{\"./transport\":7,\"xml2js\":37}],7:[function(require,module,exports){\n(function (process){\n/*global process, Sfdc */\nvar inherits = require('inherits'),\n    stream = jsforce.require('stream'),\n    Promise = require('./promise');\n\n/* */\n\nvar nodeRequest = require('request'),\n    xhrRequest = require('./browser/request'),\n    canvas = require('./browser/canvas'),\n    jsonp = require('./browser/jsonp');\n\nvar request, baseUrl;\nif (typeof window === 'undefined') {\n  var defaults = {\n    followAllRedirects: true\n  };\n  if (process.env.HTTP_PROXY) {\n    defaults.proxy = process.env.HTTP_PROXY;\n  }\n  if (process.env.HTTP_TIMEOUT) {\n    defaults.timeout = process.env.HTTP_TIMEOUT;\n  }\n  request = nodeRequest.defaults(defaults);\n  baseUrl = process.env.LOCATION_BASE_URL || \"\";\n} else {\n  request = xhrRequest;\n  var apiHost = normalizeApiHost(window.location.host);\n  baseUrl = apiHost ? \"https://\" + apiHost : \"\";\n}\n\n/**\n * Add stream() method to promise (and following promise chain), to access original request stream.\n * @private\n */\nfunction streamify(promise, factory) {\n  var _then = promise.then;\n  promise.then = function() {\n    factory();\n    var newPromise = _then.apply(promise, arguments);\n    return streamify(newPromise, factory);\n  };\n  promise.stream = factory;\n  return promise;\n}\n\n/**\n * Normarize Salesforce API host name\n * @private\n */\nfunction normalizeApiHost(apiHost) {\n  var m = /(\\w+)\\.(visual\\.force|salesforce)\\.com$/.exec(apiHost)\n  if (m) {\n    apiHost = m[1] + \".salesforce.com\";\n  }\n  return apiHost;\n}\n\n/**\n * Class for HTTP request transport\n *\n * @class\n * @protected\n */\nvar Transport = module.exports = function() {};\n\n/**\n * Make HTTP request, returns promise instead of stream\n *\n * @param {Object} params - HTTP request\n * @param {Callback.<Object>} [callback] - Calback Function\n * @param {Callback.<Object>} [options] - Options\n * @returns {Promise.<Object>}\n */\nTransport.prototype.httpRequest = function(params, callback, options) {\n  var deferred = Promise.defer();\n  var req;\n  var httpRequest = request;\n  if (options && options.jsonp && jsonp.supported) {\n    httpRequest = jsonp.createRequest(options.jsonp);\n  } else if (options && options.signedRequest && canvas.supported) {\n    httpRequest = canvas.createRequest(options.signedRequest);\n  }\n  var createRequest = function() {\n    if (!req) {\n      req = httpRequest(params, function(err, response) {\n        if (err) {\n          deferred.reject(err);\n        } else {\n          deferred.resolve(response);\n        }\n      });\n    }\n    return req;\n  };\n  return streamify(deferred.promise, createRequest).thenCall(callback);\n};\n\n/**\n * Class for HTTP request transport using AJAX proxy service\n *\n * @class Transport~ProxyTransport\n * @protected\n * @extends Transport\n * @param {String} proxyUrl - AJAX Proxy server URL\n */\nvar ProxyTransport = Transport.ProxyTransport = function(proxyUrl) {\n  this._proxyUrl = proxyUrl;\n};\n\ninherits(ProxyTransport, Transport);\n\n/**\n * Make HTTP request via AJAX proxy\n *\n * @method Transport~ProxyTransport#httpRequest\n * @param {Object} params - HTTP request\n * @param {Callback.<Object>} [callback] - Calback Function\n * @returns {Promise.<Object>}\n */\nProxyTransport.prototype.httpRequest = function(params, callback) {\n  var url = params.url;\n  if (url.indexOf(\"/\") === 0) {\n    url = baseUrl + url;\n  }\n  var proxyParams = {\n    method: params.method,\n    url: this._proxyUrl + '?' + Date.now() + \".\" + (\"\" + Math.random()).substring(2),\n    headers: {\n      'salesforceproxy-endpoint': url\n    }\n  };\n  if (params.body || params.body === \"\") {\n    proxyParams.body = params.body;\n  }\n  if (params.headers) {\n    for (var name in params.headers) {\n      proxyParams.headers[name] = params.headers[name];\n    }\n  }\n  return ProxyTransport.super_.prototype.httpRequest.call(this, proxyParams, callback);\n};\n\n}).call(this,require('_process'))\n},{\"./browser/canvas\":2,\"./browser/jsonp\":3,\"./browser/request\":4,\"./promise\":5,\"_process\":16,\"inherits\":19,\"request\":8}],8:[function(require,module,exports){\n\n},{}],9:[function(require,module,exports){\nmodule.exports=require(8)\n},{\"./node_modules/browserify/lib/_empty.js\":8}],10:[function(require,module,exports){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('is-array')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = Buffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar kMaxLength = 0x3fffffff\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Note:\n *\n * - Implementation must support adding new properties to `Uint8Array` instances.\n *   Firefox 4-29 lacked support, fixed in Firefox 30+.\n *   See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *  - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *  - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *    incorrect length in some situations.\n *\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they will\n * get the Object implementation, which is slower but will work correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = (function () {\n  try {\n    var buf = new ArrayBuffer(0)\n    var arr = new Uint8Array(buf)\n    arr.foo = function () { return 42 }\n    return 42 === arr.foo() && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        new Uint8Array(1).subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n})()\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (subject, encoding, noZero) {\n  if (!(this instanceof Buffer))\n    return new Buffer(subject, encoding, noZero)\n\n  var type = typeof subject\n\n  // Find the length\n  var length\n  if (type === 'number')\n    length = subject > 0 ? subject >>> 0 : 0\n  else if (type === 'string') {\n    if (encoding === 'base64')\n      subject = base64clean(subject)\n    length = Buffer.byteLength(subject, encoding)\n  } else if (type === 'object' && subject !== null) { // assume object is array-like\n    if (subject.type === 'Buffer' && isArray(subject.data))\n      subject = subject.data\n    length = +subject.length > 0 ? Math.floor(+subject.length) : 0\n  } else\n    throw new TypeError('must start with number, buffer, array or string')\n\n  if (this.length > kMaxLength)\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n      'size: 0x' + kMaxLength.toString(16) + ' bytes')\n\n  var buf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Preferred: Return an augmented `Uint8Array` instance for best performance\n    buf = Buffer._augment(new Uint8Array(length))\n  } else {\n    // Fallback: Return THIS instance of Buffer (created by `new`)\n    buf = this\n    buf.length = length\n    buf._isBuffer = true\n  }\n\n  var i\n  if (Buffer.TYPED_ARRAY_SUPPORT && typeof subject.byteLength === 'number') {\n    // Speed optimization -- use set if we're copying from a typed array\n    buf._set(subject)\n  } else if (isArrayish(subject)) {\n    // Treat array-ish objects as a byte array\n    if (Buffer.isBuffer(subject)) {\n      for (i = 0; i < length; i++)\n        buf[i] = subject.readUInt8(i)\n    } else {\n      for (i = 0; i < length; i++)\n        buf[i] = ((subject[i] % 256) + 256) % 256\n    }\n  } else if (type === 'string') {\n    buf.write(subject, 0, encoding)\n  } else if (type === 'number' && !Buffer.TYPED_ARRAY_SUPPORT && !noZero) {\n    for (i = 0; i < length; i++) {\n      buf[i] = 0\n    }\n  }\n\n  return buf\n}\n\nBuffer.isBuffer = function (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b))\n    throw new TypeError('Arguments must be Buffers')\n\n  var x = a.length\n  var y = b.length\n  for (var i = 0, len = Math.min(x, y); i < len && a[i] === b[i]; i++) {}\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function (list, totalLength) {\n  if (!isArray(list)) throw new TypeError('Usage: Buffer.concat(list[, length])')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  } else if (list.length === 1) {\n    return list[0]\n  }\n\n  var i\n  if (totalLength === undefined) {\n    totalLength = 0\n    for (i = 0; i < list.length; i++) {\n      totalLength += list[i].length\n    }\n  }\n\n  var buf = new Buffer(totalLength)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nBuffer.byteLength = function (str, encoding) {\n  var ret\n  str = str + ''\n  switch (encoding || 'utf8') {\n    case 'ascii':\n    case 'binary':\n    case 'raw':\n      ret = str.length\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = str.length * 2\n      break\n    case 'hex':\n      ret = str.length >>> 1\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8ToBytes(str).length\n      break\n    case 'base64':\n      ret = base64ToBytes(str).length\n      break\n    default:\n      ret = str.length\n  }\n  return ret\n}\n\n// pre-set for values that may exist in the future\nBuffer.prototype.length = undefined\nBuffer.prototype.parent = undefined\n\n// toString(encoding, start=0, end=buffer.length)\nBuffer.prototype.toString = function (encoding, start, end) {\n  var loweredCase = false\n\n  start = start >>> 0\n  end = end === undefined || end === Infinity ? this.length : end >>> 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase)\n          throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.equals = function (b) {\n  if(!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max)\n      str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  return Buffer.compare(this, b)\n}\n\n// `get` will be removed in Node 0.13+\nBuffer.prototype.get = function (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` will be removed in Node 0.13+\nBuffer.prototype.set = function (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var byte = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(byte)) throw new Error('Invalid hex string')\n    buf[offset + i] = byte\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf8ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(asciiToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(base64ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction utf16leWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf16leToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nBuffer.prototype.write = function (string, offset, length, encoding) {\n  // Support both (string, offset, length, encoding)\n  // and the legacy (string, encoding, offset, length)\n  if (isFinite(offset)) {\n    if (!isFinite(length)) {\n      encoding = length\n      length = undefined\n    }\n  } else {  // legacy\n    var swap = encoding\n    encoding = offset\n    offset = length\n    length = swap\n  }\n\n  offset = Number(offset) || 0\n  var remaining = this.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n  encoding = String(encoding || 'utf8').toLowerCase()\n\n  var ret\n  switch (encoding) {\n    case 'hex':\n      ret = hexWrite(this, string, offset, length)\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8Write(this, string, offset, length)\n      break\n    case 'ascii':\n      ret = asciiWrite(this, string, offset, length)\n      break\n    case 'binary':\n      ret = binaryWrite(this, string, offset, length)\n      break\n    case 'base64':\n      ret = base64Write(this, string, offset, length)\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = utf16leWrite(this, string, offset, length)\n      break\n    default:\n      throw new TypeError('Unknown encoding: ' + encoding)\n  }\n  return ret\n}\n\nBuffer.prototype.toJSON = function () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  var res = ''\n  var tmp = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    if (buf[i] <= 0x7F) {\n      res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i])\n      tmp = ''\n    } else {\n      tmp += '%' + buf[i].toString(16)\n    }\n  }\n\n  return res + decodeUtf8Char(tmp)\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  return asciiSlice(buf, start, end)\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len;\n    if (start < 0)\n      start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0)\n      end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start)\n    end = start\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    return Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    var newBuf = new Buffer(sliceLen, undefined, true)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n    return newBuf\n  }\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0)\n    throw new RangeError('offset is not uint')\n  if (offset + ext > length)\n    throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUInt8 = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n      ((this[offset + 1] << 16) |\n      (this[offset + 2] << 8) |\n      this[offset + 3])\n}\n\nBuffer.prototype.readInt8 = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80))\n    return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16) |\n      (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n      (this[offset + 1] << 16) |\n      (this[offset + 2] << 8) |\n      (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new TypeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new TypeError('index out of range')\n}\n\nBuffer.prototype.writeUInt8 = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = value\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else objectWriteUInt16(this, value, offset, true)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else objectWriteUInt16(this, value, offset, false)\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = value\n  } else objectWriteUInt32(this, value, offset, true)\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else objectWriteUInt32(this, value, offset, false)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt8 = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = value\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else objectWriteUInt16(this, value, offset, true)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else objectWriteUInt16(this, value, offset, false)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else objectWriteUInt32(this, value, offset, true)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else objectWriteUInt32(this, value, offset, false)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (value > max || value < min) throw new TypeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new TypeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert)\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert)\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function (target, target_start, start, end) {\n  var source = this\n\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (!target_start) target_start = 0\n\n  // Copy 0 bytes; we're done\n  if (end === start) return\n  if (target.length === 0 || source.length === 0) return\n\n  // Fatal error conditions\n  if (end < start) throw new TypeError('sourceEnd < sourceStart')\n  if (target_start < 0 || target_start >= target.length)\n    throw new TypeError('targetStart out of bounds')\n  if (start < 0 || start >= source.length) throw new TypeError('sourceStart out of bounds')\n  if (end < 0 || end > source.length) throw new TypeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length)\n    end = this.length\n  if (target.length - target_start < end - start)\n    end = target.length - target_start + start\n\n  var len = end - start\n\n  if (len < 100 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < len; i++) {\n      target[i + target_start] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), target_start)\n  }\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new TypeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new TypeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new TypeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function (arr) {\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array get/set methods before overwriting\n  arr._get = arr.get\n  arr._set = arr.set\n\n  // deprecated, will be removed in node 0.13+\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-z]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction isArrayish (subject) {\n  return isArray(subject) || Buffer.isBuffer(subject) ||\n      subject && typeof subject === 'object' &&\n      typeof subject.length === 'number'\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    var b = str.charCodeAt(i)\n    if (b <= 0x7F) {\n      byteArray.push(b)\n    } else {\n      var start = i\n      if (b >= 0xD800 && b <= 0xDFFF) i++\n      var h = encodeURIComponent(str.slice(start, i+1)).substr(1).split('%')\n      for (var j = 0; j < h.length; j++) {\n        byteArray.push(parseInt(h[j], 16))\n      }\n    }\n  }\n  return byteArray\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(str)\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length))\n      break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction decodeUtf8Char (str) {\n  try {\n    return decodeURIComponent(str)\n  } catch (err) {\n    return String.fromCharCode(0xFFFD) // UTF 8 invalid char\n  }\n}\n\n},{\"base64-js\":11,\"ieee754\":12,\"is-array\":13}],11:[function(require,module,exports){\nvar lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n\n},{}],12:[function(require,module,exports){\nexports.read = function(buffer, offset, isLE, mLen, nBytes) {\n  var e, m,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      nBits = -7,\n      i = isLE ? (nBytes - 1) : 0,\n      d = isLE ? -1 : 1,\n      s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity);\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function(buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0),\n      i = isLE ? 0 : (nBytes - 1),\n      d = isLE ? 1 : -1,\n      s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8);\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8);\n\n  buffer[offset + i - d] |= s * 128;\n};\n\n},{}],13:[function(require,module,exports){\n\n/**\n * isArray\n */\n\nvar isArray = Array.isArray;\n\n/**\n * toString\n */\n\nvar str = Object.prototype.toString;\n\n/**\n * Whether or not the given `val`\n * is an array.\n *\n * example:\n *\n *        isArray([]);\n *        // > true\n *        isArray(arguments);\n *        // > false\n *        isArray('');\n *        // > false\n *\n * @param {mixed} val\n * @return {bool}\n */\n\nmodule.exports = isArray || function (val) {\n  return !! val && '[object Array]' == str.call(val);\n};\n\n},{}],14:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],15:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],16:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var canSetImmediate = typeof window !== 'undefined'\n    && window.setImmediate;\n    var canPost = typeof window !== 'undefined'\n    && window.postMessage && window.addEventListener\n    ;\n\n    if (canSetImmediate) {\n        return function (f) { return window.setImmediate(f) };\n    }\n\n    if (canPost) {\n        var queue = [];\n        window.addEventListener('message', function (ev) {\n            var source = ev.source;\n            if ((source === window || source === null) && ev.data === 'process-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n\n        return function nextTick(fn) {\n            queue.push(fn);\n            window.postMessage('process-tick', '*');\n        };\n    }\n\n    return function nextTick(fn) {\n        setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n}\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\n\n},{}],17:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n\n},{\"events\":14,\"inherits\":15,\"readable-stream/duplex.js\":21,\"readable-stream/passthrough.js\":31,\"readable-stream/readable.js\":32,\"readable-stream/transform.js\":33,\"readable-stream/writable.js\":34}],18:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nfunction assertEncoding(encoding) {\n  if (encoding && !Buffer.isEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  this.charBuffer = new Buffer(6);\n  this.charReceived = 0;\n  this.charLength = 0;\n};\n\n\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  var offset = 0;\n\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var i = (buffer.length >= this.charLength - this.charReceived) ?\n                this.charLength - this.charReceived :\n                buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, offset, i);\n    this.charReceived += (i - offset);\n    offset = i;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (i == buffer.length) return charStr;\n\n    // otherwise cut off the characters end from the beginning of this buffer\n    buffer = buffer.slice(i, buffer.length);\n    break;\n  }\n\n  var lenIncomplete = this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - lenIncomplete, end);\n    this.charReceived = lenIncomplete;\n    end -= lenIncomplete;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    this.charBuffer.write(charStr.charAt(charStr.length - 1), this.encoding);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n\n  return i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  var incomplete = this.charReceived = buffer.length % 2;\n  this.charLength = incomplete ? 2 : 0;\n  return incomplete;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  var incomplete = this.charReceived = buffer.length % 3;\n  this.charLength = incomplete ? 3 : 0;\n  return incomplete;\n}\n\n},{\"buffer\":10}],19:[function(require,module,exports){\nmodule.exports=require(15)\n},{\"./node_modules/browserify/node_modules/inherits/inherits_browser.js\":15}],20:[function(require,module,exports){\n(function (process){\n// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    // Turn off strict mode for this function so we can assign to global.Q\n    /* jshint strict: false */\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else {\n        Q = definition();\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n\n    function flush() {\n        /* jshint loopfunc: true */\n\n        while (head.next) {\n            head = head.next;\n            var task = head.task;\n            head.task = void 0;\n            var domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n\n            try {\n                task();\n\n            } catch (e) {\n                if (isNodeJS) {\n                    // In node, uncaught exceptions are considered fatal errors.\n                    // Re-throw them synchronously to interrupt flushing!\n\n                    // Ensure continuation if the uncaught exception is suppressed\n                    // listening \"uncaughtException\" events (as domains does).\n                    // Continue in next event to avoid tick recursion.\n                    if (domain) {\n                        domain.exit();\n                    }\n                    setTimeout(flush, 0);\n                    if (domain) {\n                        domain.enter();\n                    }\n\n                    throw e;\n\n                } else {\n                    // In browsers, uncaught exceptions are not fatal.\n                    // Re-throw them asynchronously to avoid slow-downs.\n                    setTimeout(function() {\n                       throw e;\n                    }, 0);\n                }\n            }\n\n            if (domain) {\n                domain.exit();\n            }\n        }\n\n        flushing = false;\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process !== \"undefined\" && process.nextTick) {\n        // Node.js before 0.9. Note that some fake-Node environments, like the\n        // Mocha test runner, introduce a `process` global without a `nextTick`.\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you don’t need a security guarantee,\n// this is just plain paranoid.\n// However, this does have the nice side-effect of reducing the size\n// of the code by reducing x.call() to merely x(), eliminating many\n// hard-to-minify characters.\n// See Mark Miller’s explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n// engine that has a deployed base of browsers that support generators.\n// However, SM's generators use the Python-inspired semantics of\n// outdated ES6 drafts.  We would like to support ES6, but we'd also\n// like to make it possible to use generators in deployed browsers, so\n// we also support Python-style generators.  At some point we can remove\n// this block.\nvar hasES6Generators;\ntry {\n    /* jshint evil: true, nonew: false */\n    new Function(\"(function* (){ yield 1; })\");\n    hasES6Generators = true;\n} catch (e) {\n    hasES6Generators = false;\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack &&\n        error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack) {\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        error.stack = filterStackString(concatedStacks);\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (isPromise(value)) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = deprecate(function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    }, \"valueOf\", \"inspect\");\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n        promise.source = newPromise;\n\n        array_reduce(messages, function (undefined, message) {\n            nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become fulfilled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be fulfilled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function(resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function(answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = deprecate(function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        });\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If it’s a fulfilled promise, the fulfillment value is nearer.\n * If it’s a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return isObject(object) &&\n        typeof object.promiseDispatch === \"function\" &&\n        typeof object.inspect === \"function\";\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar unhandledReasonsDisplayed = false;\nvar trackUnhandledRejections = true;\nfunction displayUnhandledReasons() {\n    if (\n        !unhandledReasonsDisplayed &&\n        typeof window !== \"undefined\" &&\n        !window.Touch &&\n        window.console\n    ) {\n        console.warn(\"[Q] Unhandled rejection reasons (should be empty):\",\n                     unhandledReasons);\n    }\n\n    unhandledReasonsDisplayed = true;\n}\n\nfunction logUnhandledReasons() {\n    for (var i = 0; i < unhandledReasons.length; i++) {\n        var reason = unhandledReasons[i];\n        console.warn(\"Unhandled rejection reason:\", reason);\n    }\n}\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n    unhandledReasonsDisplayed = false;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n\n        // Show unhandled rejection reasons if Node exits without handling an\n        // outstanding rejection.  (Note that Browserify presently produces a\n        // `process` global without the `EventEmitter` `on` method.)\n        if (typeof process !== \"undefined\" && process.on) {\n            process.on(\"exit\", logUnhandledReasons);\n        }\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n    displayUnhandledReasons();\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    if (typeof process !== \"undefined\" && process.on) {\n        process.removeListener(\"exit\", logUnhandledReasons);\n    }\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n            if (hasES6Generators) {\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return result.value;\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return exception.value;\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var countDown = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++countDown;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--countDown === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (countDown === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {String} custom error message (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, message) {\n    return Q(object).timeout(ms, message);\n};\n\nPromise.prototype.timeout = function (ms, message) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        deferred.reject(new Error(message || \"Timed out after \" + ms + \" ms\"));\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n\n}).call(this,require('_process'))\n},{\"_process\":16}],21:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_duplex.js\")\n\n},{\"./lib/_stream_duplex.js\":22}],22:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_readable\":24,\"./_stream_writable\":26,\"_process\":16,\"core-util-is\":27,\"inherits\":28}],23:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n\n},{\"./_stream_transform\":25,\"core-util-is\":27,\"inherits\":28}],24:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\n\n/*<replacement>*/\nvar debug = require('util');\nif (debug && debug.debuglog) {\n  debug = debug.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (util.isString(chunk) && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (util.isNullOrUndefined(chunk)) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      if (!addToFront)\n        state.reading = false;\n\n      // if we want the data now, just emit it.\n      if (state.flowing && state.length === 0 && !state.sync) {\n        stream.emit('data', chunk);\n        stream.read(0);\n      } else {\n        // update the buffer info.\n        state.length += state.objectMode ? 1 : chunk.length;\n        if (addToFront)\n          state.buffer.unshift(chunk);\n        else\n          state.buffer.push(chunk);\n\n        if (state.needReadable)\n          emitReadable(stream);\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (isNaN(n) || util.isNull(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  debug('read', n);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (!util.isNumber(n) || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended)\n      endReadable(this);\n    else\n      emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0)\n      endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  }\n\n  if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read pushed data synchronously, then `reading` will be false,\n  // and we need to re-evaluate how much data we can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  var ret;\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (util.isNull(ret)) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we tried to read() past the EOF, then emit end on the next tick.\n  if (nOrig !== n && state.ended && state.length === 0)\n    endReadable(this);\n\n  if (!util.isNull(ret))\n    this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync)\n      process.nextTick(function() {\n        emitReadable_(stream);\n      });\n    else\n      emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain &&\n        (!dest._writableState || dest._writableState.needDrain))\n      ondrain();\n  }\n\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    if (false === ret) {\n      debug('false write response, pause',\n            src._readableState.awaitDrain);\n      src._readableState.awaitDrain++;\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain)\n      state.awaitDrain--;\n    if (state.awaitDrain === 0 && EE.listenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  // If listening to data, and it has not explicitly been paused,\n  // then call resume to start the flow of data on the next tick.\n  if (ev === 'data' && false !== this._readableState.flowing) {\n    this.resume();\n  }\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        var self = this;\n        process.nextTick(function() {\n          debug('readable nexttick read 0');\n          self.read(0);\n        });\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    if (!state.reading) {\n      debug('resume read 0');\n      this.read(0);\n    }\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(function() {\n      resume_(stream, state);\n    });\n  }\n}\n\nfunction resume_(stream, state) {\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading)\n    stream.read(0);\n}\n\nReadable.prototype.pause = function() {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  if (state.flowing) {\n    do {\n      var chunk = stream.read();\n    } while (null !== chunk && state.flowing);\n  }\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    debug('wrapped data');\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n    if (!chunk || !state.objectMode && !chunk.length)\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (util.isFunction(stream[i]) && util.isUndefined(this[i])) {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":22,\"_process\":16,\"buffer\":10,\"core-util-is\":27,\"events\":14,\"inherits\":28,\"isarray\":29,\"stream\":17,\"string_decoder/\":30,\"util\":9}],25:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (!util.isNullOrUndefined(data))\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('prefinish', function() {\n    if (util.isFunction(this._flush))\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (!util.isNull(ts.writechunk) && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n\n},{\"./_stream_duplex\":22,\"core-util-is\":27,\"inherits\":28}],26:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (!util.isFunction(cb))\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function() {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function() {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing &&\n        !state.corked &&\n        !state.finished &&\n        !state.bufferProcessing &&\n        state.buffer.length)\n      clearBuffer(this, state);\n  }\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      util.isString(chunk)) {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing || state.corked)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev)\n    stream._writev(chunk, state.onwrite);\n  else\n    stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      state.pendingcb--;\n      cb(er);\n    });\n  else {\n    state.pendingcb--;\n    cb(er);\n  }\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished &&\n        !state.corked &&\n        !state.bufferProcessing &&\n        state.buffer.length) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  if (stream._writev && state.buffer.length > 1) {\n    // Fast case, write everything using _writev()\n    var cbs = [];\n    for (var c = 0; c < state.buffer.length; c++)\n      cbs.push(state.buffer[c].callback);\n\n    // count the one we are adding, as well.\n    // TODO(isaacs) clean this up\n    state.pendingcb++;\n    doWrite(stream, state, true, state.length, state.buffer, '', function(err) {\n      for (var i = 0; i < cbs.length; i++) {\n        state.pendingcb--;\n        cbs[i](err);\n      }\n    });\n\n    // Clear buffer\n    state.buffer = [];\n  } else {\n    // Slow case, write chunks one-by-one\n    for (var c = 0; c < state.buffer.length; c++) {\n      var entry = state.buffer[c];\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        c++;\n        break;\n      }\n    }\n\n    if (c < state.buffer.length)\n      state.buffer = state.buffer.slice(c);\n    else\n      state.buffer.length = 0;\n  }\n\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (util.isFunction(chunk)) {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (!util.isNullOrUndefined(chunk))\n    this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else\n      prefinish(stream, state);\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":22,\"_process\":16,\"buffer\":10,\"core-util-is\":27,\"inherits\":28,\"stream\":17}],27:[function(require,module,exports){\n(function (Buffer){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nfunction isBuffer(arg) {\n  return Buffer.isBuffer(arg);\n}\nexports.isBuffer = isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":10}],28:[function(require,module,exports){\nmodule.exports=require(15)\n},{\"./node_modules/browserify/node_modules/inherits/inherits_browser.js\":15}],29:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],30:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n\n},{\"buffer\":10}],31:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_passthrough.js\")\n\n},{\"./lib/_stream_passthrough.js\":23}],32:[function(require,module,exports){\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = require('stream');\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n\n},{\"./lib/_stream_duplex.js\":22,\"./lib/_stream_passthrough.js\":23,\"./lib/_stream_readable.js\":24,\"./lib/_stream_transform.js\":25,\"./lib/_stream_writable.js\":26,\"stream\":17}],33:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_transform.js\")\n\n},{\"./lib/_stream_transform.js\":25}],34:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_writable.js\")\n\n},{\"./lib/_stream_writable.js\":26}],35:[function(require,module,exports){\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var xml2js;\n\n  xml2js = require('../lib/xml2js');\n\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n\n},{\"../lib/xml2js\":37}],36:[function(require,module,exports){\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n}).call(this);\n\n},{}],37:[function(require,module,exports){\n(function (process){\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var bom, builder, events, isEmpty, processName, processors, sax,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  sax = require('sax');\n\n  events = require('events');\n\n  builder = require('xmlbuilder');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processName = function(processors, processedName) {\n    var process, _i, _len;\n    for (_i = 0, _len = processors.length; _i < _len; _i++) {\n      process = processors[_i];\n      processedName = process(processedName);\n    }\n    return processedName;\n  };\n\n  exports.processors = processors;\n\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      tagNameProcessors: null\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      tagNameProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false\n    }\n  };\n\n  exports.ValidationError = (function(_super) {\n    __extends(ValidationError, _super);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, value, _ref;\n      this.options = {};\n      _ref = exports.defaults[\"0.2\"];\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!__hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === exports.defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = function(element, obj) {\n        var attr, child, entry, index, key, value, _ref, _ref1;\n        if (typeof obj !== 'object') {\n          element.txt(obj);\n        } else {\n          for (key in obj) {\n            if (!__hasProp.call(obj, key)) continue;\n            child = obj[key];\n            if (key === attrkey) {\n              if (typeof child === \"object\") {\n                for (attr in child) {\n                  value = child[attr];\n                  element = element.att(attr, value);\n                }\n              }\n            } else if (key === charkey) {\n              element = element.txt(child);\n            } else if (typeof child === 'object' && ((child != null ? child.constructor : void 0) != null) && ((child != null ? (_ref = child.constructor) != null ? _ref.name : void 0 : void 0) != null) && (child != null ? (_ref1 = child.constructor) != null ? _ref1.name : void 0 : void 0) === 'Array') {\n              for (index in child) {\n                if (!__hasProp.call(child, index)) continue;\n                entry = child[index];\n                if (typeof entry === 'string') {\n                  element = element.ele(key, entry).up();\n                } else {\n                  element = arguments.callee(element.ele(key), entry).up();\n                }\n              }\n            } else if (typeof child === \"object\") {\n              element = arguments.callee(element.ele(key), child).up();\n            } else {\n              element = element.ele(key, child.toString()).up();\n            }\n          }\n        }\n        return element;\n      };\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n  exports.Parser = (function(_super) {\n    __extends(Parser, _super);\n\n    function Parser(opts) {\n      this.parseString = __bind(this.parseString, this);\n      this.reset = __bind(this.reset, this);\n      this.assignOrPush = __bind(this.assignOrPush, this);\n      var key, value, _ref;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      _ref = exports.defaults[\"0.2\"];\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!__hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, _ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            _ref = node.attributes;\n            for (key in _ref) {\n              if (!__hasProp.call(_ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processName(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processName(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, err, node, nodeName, obj, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          delete obj[\"#name\"];\n          cdata = obj.cdata;\n          delete obj.cdata;\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== void 0 ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var _i, _len, _results;\n              _results = [];\n              for (_i = 0, _len = stack.length; _i < _len; _i++) {\n                node = stack[_i];\n                _results.push(node[\"#name\"]);\n              }\n              return _results;\n            })()).concat(nodeName).join(\"/\");\n            try {\n              obj = _this.options.validator(xpath, s && s[nodeName], obj);\n            } catch (_error) {\n              err = _error;\n              _this.emit(\"error\", err);\n            }\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            node = {};\n            if (_this.options.attrkey in obj) {\n              node[_this.options.attrkey] = obj[_this.options.attrkey];\n              delete obj[_this.options.attrkey];\n            }\n            if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n              node[_this.options.charkey] = obj[_this.options.charkey];\n              delete obj[_this.options.charkey];\n            }\n            if (Object.getOwnPropertyNames(obj).length > 0) {\n              node[_this.options.childkey] = obj;\n            }\n            obj = node;\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          if (this.options.async) {\n            return process.nextTick(function() {\n              return cb(null, result);\n            });\n          } else {\n            return cb(null, result);\n          }\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          if (this.options.async) {\n            return process.nextTick(function() {\n              return cb(err);\n            });\n          } else {\n            return cb(err);\n          }\n        });\n      }\n      if (str.toString().trim() === '') {\n        this.emit(\"end\", null);\n        return true;\n      }\n      try {\n        return this.saxParser.write(bom.stripBOM(str.toString())).close();\n      } catch (_error) {\n        err = _error;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        }\n      }\n    };\n\n    return Parser;\n\n  })(events.EventEmitter);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n}).call(this);\n\n}).call(this,require('_process'))\n},{\"./bom\":35,\"./processors\":36,\"_process\":16,\"events\":14,\"sax\":38,\"xmlbuilder\":55}],38:[function(require,module,exports){\n(function (Buffer){\n// wrapper for non-node envs\n;(function (sax) {\n\nsax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\nsax.SAXParser = SAXParser\nsax.SAXStream = SAXStream\nsax.createStream = createStream\n\n// When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n// When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n// since that's the earliest that a buffer overrun could occur.  This way, checks are\n// as rare as required, but as often as necessary to ensure never crossing this bound.\n// Furthermore, buffers are only tested at most once per write(), so passing a very\n// large string into write() might have undesirable effects, but this is manageable by\n// the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n// edge case, result in creating at most one complete copy of the string passed in.\n// Set to Infinity to have unlimited buffers.\nsax.MAX_BUFFER_LENGTH = 64 * 1024\n\nvar buffers = [\n  \"comment\", \"sgmlDecl\", \"textNode\", \"tagName\", \"doctype\",\n  \"procInstName\", \"procInstBody\", \"entity\", \"attribName\",\n  \"attribValue\", \"cdata\", \"script\"\n]\n\nsax.EVENTS = // for discoverability.\n  [ \"text\"\n  , \"processinginstruction\"\n  , \"sgmldeclaration\"\n  , \"doctype\"\n  , \"comment\"\n  , \"attribute\"\n  , \"opentag\"\n  , \"closetag\"\n  , \"opencdata\"\n  , \"cdata\"\n  , \"closecdata\"\n  , \"error\"\n  , \"end\"\n  , \"ready\"\n  , \"script\"\n  , \"opennamespace\"\n  , \"closenamespace\"\n  ]\n\nfunction SAXParser (strict, opt) {\n  if (!(this instanceof SAXParser)) return new SAXParser(strict, opt)\n\n  var parser = this\n  clearBuffers(parser)\n  parser.q = parser.c = \"\"\n  parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n  parser.opt = opt || {}\n  parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n  parser.looseCase = parser.opt.lowercase ? \"toLowerCase\" : \"toUpperCase\"\n  parser.tags = []\n  parser.closed = parser.closedRoot = parser.sawRoot = false\n  parser.tag = parser.error = null\n  parser.strict = !!strict\n  parser.noscript = !!(strict || parser.opt.noscript)\n  parser.state = S.BEGIN\n  parser.ENTITIES = Object.create(sax.ENTITIES)\n  parser.attribList = []\n\n  // namespaces form a prototype chain.\n  // it always points at the current tag,\n  // which protos to its parent tag.\n  if (parser.opt.xmlns) parser.ns = Object.create(rootNS)\n\n  // mostly just for error reporting\n  parser.trackPosition = parser.opt.position !== false\n  if (parser.trackPosition) {\n    parser.position = parser.line = parser.column = 0\n  }\n  emit(parser, \"onready\")\n}\n\nif (!Object.create) Object.create = function (o) {\n  function f () { this.__proto__ = o }\n  f.prototype = o\n  return new f\n}\n\nif (!Object.getPrototypeOf) Object.getPrototypeOf = function (o) {\n  return o.__proto__\n}\n\nif (!Object.keys) Object.keys = function (o) {\n  var a = []\n  for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n  return a\n}\n\nfunction checkBufferLength (parser) {\n  var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    , maxActual = 0\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    var len = parser[buffers[i]].length\n    if (len > maxAllowed) {\n      // Text/cdata nodes can get big, and since they're buffered,\n      // we can get here under normal conditions.\n      // Avoid issues by emitting the text node now,\n      // so at least it won't get any bigger.\n      switch (buffers[i]) {\n        case \"textNode\":\n          closeText(parser)\n        break\n\n        case \"cdata\":\n          emitNode(parser, \"oncdata\", parser.cdata)\n          parser.cdata = \"\"\n        break\n\n        case \"script\":\n          emitNode(parser, \"onscript\", parser.script)\n          parser.script = \"\"\n        break\n\n        default:\n          error(parser, \"Max buffer length exceeded: \"+buffers[i])\n      }\n    }\n    maxActual = Math.max(maxActual, len)\n  }\n  // schedule the next check for the earliest possible buffer overrun.\n  parser.bufferCheckPosition = (sax.MAX_BUFFER_LENGTH - maxActual)\n                             + parser.position\n}\n\nfunction clearBuffers (parser) {\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    parser[buffers[i]] = \"\"\n  }\n}\n\nfunction flushBuffers (parser) {\n  closeText(parser)\n  if (parser.cdata !== \"\") {\n    emitNode(parser, \"oncdata\", parser.cdata)\n    parser.cdata = \"\"\n  }\n  if (parser.script !== \"\") {\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n}\n\nSAXParser.prototype =\n  { end: function () { end(this) }\n  , write: write\n  , resume: function () { this.error = null; return this }\n  , close: function () { return this.write(null) }\n  , flush: function () { flushBuffers(this) }\n  }\n\ntry {\n  var Stream = require(\"stream\").Stream\n} catch (ex) {\n  var Stream = function () {}\n}\n\n\nvar streamWraps = sax.EVENTS.filter(function (ev) {\n  return ev !== \"error\" && ev !== \"end\"\n})\n\nfunction createStream (strict, opt) {\n  return new SAXStream(strict, opt)\n}\n\nfunction SAXStream (strict, opt) {\n  if (!(this instanceof SAXStream)) return new SAXStream(strict, opt)\n\n  Stream.apply(this)\n\n  this._parser = new SAXParser(strict, opt)\n  this.writable = true\n  this.readable = true\n\n\n  var me = this\n\n  this._parser.onend = function () {\n    me.emit(\"end\")\n  }\n\n  this._parser.onerror = function (er) {\n    me.emit(\"error\", er)\n\n    // if didn't throw, then means error was handled.\n    // go ahead and clear error, so we can write again.\n    me._parser.error = null\n  }\n\n  this._decoder = null;\n\n  streamWraps.forEach(function (ev) {\n    Object.defineProperty(me, \"on\" + ev, {\n      get: function () { return me._parser[\"on\" + ev] },\n      set: function (h) {\n        if (!h) {\n          me.removeAllListeners(ev)\n          return me._parser[\"on\"+ev] = h\n        }\n        me.on(ev, h)\n      },\n      enumerable: true,\n      configurable: false\n    })\n  })\n}\n\nSAXStream.prototype = Object.create(Stream.prototype,\n  { constructor: { value: SAXStream } })\n\nSAXStream.prototype.write = function (data) {\n  if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n    if (!this._decoder) {\n      var SD = require('string_decoder').StringDecoder\n      this._decoder = new SD('utf8')\n    }\n    data = this._decoder.write(data);\n  }\n\n  this._parser.write(data.toString())\n  this.emit(\"data\", data)\n  return true\n}\n\nSAXStream.prototype.end = function (chunk) {\n  if (chunk && chunk.length) this.write(chunk)\n  this._parser.end()\n  return true\n}\n\nSAXStream.prototype.on = function (ev, handler) {\n  var me = this\n  if (!me._parser[\"on\"+ev] && streamWraps.indexOf(ev) !== -1) {\n    me._parser[\"on\"+ev] = function () {\n      var args = arguments.length === 1 ? [arguments[0]]\n               : Array.apply(null, arguments)\n      args.splice(0, 0, ev)\n      me.emit.apply(me, args)\n    }\n  }\n\n  return Stream.prototype.on.call(me, ev, handler)\n}\n\n\n\n// character classes and tokens\nvar whitespace = \"\\r\\n\\t \"\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  , number = \"0124356789\"\n  , letter = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n  // (Letter | \"_\" | \":\")\n  , quote = \"'\\\"\"\n  , entity = number+letter+\"#\"\n  , attribEnd = whitespace + \">\"\n  , CDATA = \"[CDATA[\"\n  , DOCTYPE = \"DOCTYPE\"\n  , XML_NAMESPACE = \"http://www.w3.org/XML/1998/namespace\"\n  , XMLNS_NAMESPACE = \"http://www.w3.org/2000/xmlns/\"\n  , rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n// turn all the string character sets into character class objects.\nwhitespace = charClass(whitespace)\nnumber = charClass(number)\nletter = charClass(letter)\n\n// http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n// This implementation works on strings, a single character at a time\n// as such, it cannot ever support astral-plane characters (10000-EFFFF)\n// without a significant breaking change to either this  parser, or the\n// JavaScript language.  Implementation of an emoji-capable xml parser\n// is left as an exercise for the reader.\nvar nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\nvar nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040\\.\\d-]/\n\nquote = charClass(quote)\nentity = charClass(entity)\nattribEnd = charClass(attribEnd)\n\nfunction charClass (str) {\n  return str.split(\"\").reduce(function (s, c) {\n    s[c] = true\n    return s\n  }, {})\n}\n\nfunction isRegExp (c) {\n  return Object.prototype.toString.call(c) === '[object RegExp]'\n}\n\nfunction is (charclass, c) {\n  return isRegExp(charclass) ? !!c.match(charclass) : charclass[c]\n}\n\nfunction not (charclass, c) {\n  return !is(charclass, c)\n}\n\nvar S = 0\nsax.STATE =\n{ BEGIN                     : S++\n, TEXT                      : S++ // general stuff\n, TEXT_ENTITY               : S++ // &amp and such.\n, OPEN_WAKA                 : S++ // <\n, SGML_DECL                 : S++ // <!BLARG\n, SGML_DECL_QUOTED          : S++ // <!BLARG foo \"bar\n, DOCTYPE                   : S++ // <!DOCTYPE\n, DOCTYPE_QUOTED            : S++ // <!DOCTYPE \"//blah\n, DOCTYPE_DTD               : S++ // <!DOCTYPE \"//blah\" [ ...\n, DOCTYPE_DTD_QUOTED        : S++ // <!DOCTYPE \"//blah\" [ \"foo\n, COMMENT_STARTING          : S++ // <!-\n, COMMENT                   : S++ // <!--\n, COMMENT_ENDING            : S++ // <!-- blah -\n, COMMENT_ENDED             : S++ // <!-- blah --\n, CDATA                     : S++ // <![CDATA[ something\n, CDATA_ENDING              : S++ // ]\n, CDATA_ENDING_2            : S++ // ]]\n, PROC_INST                 : S++ // <?hi\n, PROC_INST_BODY            : S++ // <?hi there\n, PROC_INST_ENDING          : S++ // <?hi \"there\" ?\n, OPEN_TAG                  : S++ // <strong\n, OPEN_TAG_SLASH            : S++ // <strong /\n, ATTRIB                    : S++ // <a\n, ATTRIB_NAME               : S++ // <a foo\n, ATTRIB_NAME_SAW_WHITE     : S++ // <a foo _\n, ATTRIB_VALUE              : S++ // <a foo=\n, ATTRIB_VALUE_QUOTED       : S++ // <a foo=\"bar\n, ATTRIB_VALUE_CLOSED       : S++ // <a foo=\"bar\"\n, ATTRIB_VALUE_UNQUOTED     : S++ // <a foo=bar\n, ATTRIB_VALUE_ENTITY_Q     : S++ // <foo bar=\"&quot;\"\n, ATTRIB_VALUE_ENTITY_U     : S++ // <foo bar=&quot;\n, CLOSE_TAG                 : S++ // </a\n, CLOSE_TAG_SAW_WHITE       : S++ // </a   >\n, SCRIPT                    : S++ // <script> ...\n, SCRIPT_ENDING             : S++ // <script> ... <\n}\n\nsax.ENTITIES =\n{ \"amp\" : \"&\"\n, \"gt\" : \">\"\n, \"lt\" : \"<\"\n, \"quot\" : \"\\\"\"\n, \"apos\" : \"'\"\n, \"AElig\" : 198\n, \"Aacute\" : 193\n, \"Acirc\" : 194\n, \"Agrave\" : 192\n, \"Aring\" : 197\n, \"Atilde\" : 195\n, \"Auml\" : 196\n, \"Ccedil\" : 199\n, \"ETH\" : 208\n, \"Eacute\" : 201\n, \"Ecirc\" : 202\n, \"Egrave\" : 200\n, \"Euml\" : 203\n, \"Iacute\" : 205\n, \"Icirc\" : 206\n, \"Igrave\" : 204\n, \"Iuml\" : 207\n, \"Ntilde\" : 209\n, \"Oacute\" : 211\n, \"Ocirc\" : 212\n, \"Ograve\" : 210\n, \"Oslash\" : 216\n, \"Otilde\" : 213\n, \"Ouml\" : 214\n, \"THORN\" : 222\n, \"Uacute\" : 218\n, \"Ucirc\" : 219\n, \"Ugrave\" : 217\n, \"Uuml\" : 220\n, \"Yacute\" : 221\n, \"aacute\" : 225\n, \"acirc\" : 226\n, \"aelig\" : 230\n, \"agrave\" : 224\n, \"aring\" : 229\n, \"atilde\" : 227\n, \"auml\" : 228\n, \"ccedil\" : 231\n, \"eacute\" : 233\n, \"ecirc\" : 234\n, \"egrave\" : 232\n, \"eth\" : 240\n, \"euml\" : 235\n, \"iacute\" : 237\n, \"icirc\" : 238\n, \"igrave\" : 236\n, \"iuml\" : 239\n, \"ntilde\" : 241\n, \"oacute\" : 243\n, \"ocirc\" : 244\n, \"ograve\" : 242\n, \"oslash\" : 248\n, \"otilde\" : 245\n, \"ouml\" : 246\n, \"szlig\" : 223\n, \"thorn\" : 254\n, \"uacute\" : 250\n, \"ucirc\" : 251\n, \"ugrave\" : 249\n, \"uuml\" : 252\n, \"yacute\" : 253\n, \"yuml\" : 255\n, \"copy\" : 169\n, \"reg\" : 174\n, \"nbsp\" : 160\n, \"iexcl\" : 161\n, \"cent\" : 162\n, \"pound\" : 163\n, \"curren\" : 164\n, \"yen\" : 165\n, \"brvbar\" : 166\n, \"sect\" : 167\n, \"uml\" : 168\n, \"ordf\" : 170\n, \"laquo\" : 171\n, \"not\" : 172\n, \"shy\" : 173\n, \"macr\" : 175\n, \"deg\" : 176\n, \"plusmn\" : 177\n, \"sup1\" : 185\n, \"sup2\" : 178\n, \"sup3\" : 179\n, \"acute\" : 180\n, \"micro\" : 181\n, \"para\" : 182\n, \"middot\" : 183\n, \"cedil\" : 184\n, \"ordm\" : 186\n, \"raquo\" : 187\n, \"frac14\" : 188\n, \"frac12\" : 189\n, \"frac34\" : 190\n, \"iquest\" : 191\n, \"times\" : 215\n, \"divide\" : 247\n, \"OElig\" : 338\n, \"oelig\" : 339\n, \"Scaron\" : 352\n, \"scaron\" : 353\n, \"Yuml\" : 376\n, \"fnof\" : 402\n, \"circ\" : 710\n, \"tilde\" : 732\n, \"Alpha\" : 913\n, \"Beta\" : 914\n, \"Gamma\" : 915\n, \"Delta\" : 916\n, \"Epsilon\" : 917\n, \"Zeta\" : 918\n, \"Eta\" : 919\n, \"Theta\" : 920\n, \"Iota\" : 921\n, \"Kappa\" : 922\n, \"Lambda\" : 923\n, \"Mu\" : 924\n, \"Nu\" : 925\n, \"Xi\" : 926\n, \"Omicron\" : 927\n, \"Pi\" : 928\n, \"Rho\" : 929\n, \"Sigma\" : 931\n, \"Tau\" : 932\n, \"Upsilon\" : 933\n, \"Phi\" : 934\n, \"Chi\" : 935\n, \"Psi\" : 936\n, \"Omega\" : 937\n, \"alpha\" : 945\n, \"beta\" : 946\n, \"gamma\" : 947\n, \"delta\" : 948\n, \"epsilon\" : 949\n, \"zeta\" : 950\n, \"eta\" : 951\n, \"theta\" : 952\n, \"iota\" : 953\n, \"kappa\" : 954\n, \"lambda\" : 955\n, \"mu\" : 956\n, \"nu\" : 957\n, \"xi\" : 958\n, \"omicron\" : 959\n, \"pi\" : 960\n, \"rho\" : 961\n, \"sigmaf\" : 962\n, \"sigma\" : 963\n, \"tau\" : 964\n, \"upsilon\" : 965\n, \"phi\" : 966\n, \"chi\" : 967\n, \"psi\" : 968\n, \"omega\" : 969\n, \"thetasym\" : 977\n, \"upsih\" : 978\n, \"piv\" : 982\n, \"ensp\" : 8194\n, \"emsp\" : 8195\n, \"thinsp\" : 8201\n, \"zwnj\" : 8204\n, \"zwj\" : 8205\n, \"lrm\" : 8206\n, \"rlm\" : 8207\n, \"ndash\" : 8211\n, \"mdash\" : 8212\n, \"lsquo\" : 8216\n, \"rsquo\" : 8217\n, \"sbquo\" : 8218\n, \"ldquo\" : 8220\n, \"rdquo\" : 8221\n, \"bdquo\" : 8222\n, \"dagger\" : 8224\n, \"Dagger\" : 8225\n, \"bull\" : 8226\n, \"hellip\" : 8230\n, \"permil\" : 8240\n, \"prime\" : 8242\n, \"Prime\" : 8243\n, \"lsaquo\" : 8249\n, \"rsaquo\" : 8250\n, \"oline\" : 8254\n, \"frasl\" : 8260\n, \"euro\" : 8364\n, \"image\" : 8465\n, \"weierp\" : 8472\n, \"real\" : 8476\n, \"trade\" : 8482\n, \"alefsym\" : 8501\n, \"larr\" : 8592\n, \"uarr\" : 8593\n, \"rarr\" : 8594\n, \"darr\" : 8595\n, \"harr\" : 8596\n, \"crarr\" : 8629\n, \"lArr\" : 8656\n, \"uArr\" : 8657\n, \"rArr\" : 8658\n, \"dArr\" : 8659\n, \"hArr\" : 8660\n, \"forall\" : 8704\n, \"part\" : 8706\n, \"exist\" : 8707\n, \"empty\" : 8709\n, \"nabla\" : 8711\n, \"isin\" : 8712\n, \"notin\" : 8713\n, \"ni\" : 8715\n, \"prod\" : 8719\n, \"sum\" : 8721\n, \"minus\" : 8722\n, \"lowast\" : 8727\n, \"radic\" : 8730\n, \"prop\" : 8733\n, \"infin\" : 8734\n, \"ang\" : 8736\n, \"and\" : 8743\n, \"or\" : 8744\n, \"cap\" : 8745\n, \"cup\" : 8746\n, \"int\" : 8747\n, \"there4\" : 8756\n, \"sim\" : 8764\n, \"cong\" : 8773\n, \"asymp\" : 8776\n, \"ne\" : 8800\n, \"equiv\" : 8801\n, \"le\" : 8804\n, \"ge\" : 8805\n, \"sub\" : 8834\n, \"sup\" : 8835\n, \"nsub\" : 8836\n, \"sube\" : 8838\n, \"supe\" : 8839\n, \"oplus\" : 8853\n, \"otimes\" : 8855\n, \"perp\" : 8869\n, \"sdot\" : 8901\n, \"lceil\" : 8968\n, \"rceil\" : 8969\n, \"lfloor\" : 8970\n, \"rfloor\" : 8971\n, \"lang\" : 9001\n, \"rang\" : 9002\n, \"loz\" : 9674\n, \"spades\" : 9824\n, \"clubs\" : 9827\n, \"hearts\" : 9829\n, \"diams\" : 9830\n}\n\nObject.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n})\n\nfor (var S in sax.STATE) sax.STATE[sax.STATE[S]] = S\n\n// shorthand\nS = sax.STATE\n\nfunction emit (parser, event, data) {\n  parser[event] && parser[event](data)\n}\n\nfunction emitNode (parser, nodeType, data) {\n  if (parser.textNode) closeText(parser)\n  emit(parser, nodeType, data)\n}\n\nfunction closeText (parser) {\n  parser.textNode = textopts(parser.opt, parser.textNode)\n  if (parser.textNode) emit(parser, \"ontext\", parser.textNode)\n  parser.textNode = \"\"\n}\n\nfunction textopts (opt, text) {\n  if (opt.trim) text = text.trim()\n  if (opt.normalize) text = text.replace(/\\s+/g, \" \")\n  return text\n}\n\nfunction error (parser, er) {\n  closeText(parser)\n  if (parser.trackPosition) {\n    er += \"\\nLine: \"+parser.line+\n          \"\\nColumn: \"+parser.column+\n          \"\\nChar: \"+parser.c\n  }\n  er = new Error(er)\n  parser.error = er\n  emit(parser, \"onerror\", er)\n  return parser\n}\n\nfunction end (parser) {\n  if (!parser.closedRoot) strictFail(parser, \"Unclosed root tag\")\n  if ((parser.state !== S.BEGIN) && (parser.state !== S.TEXT)) error(parser, \"Unexpected end\")\n  closeText(parser)\n  parser.c = \"\"\n  parser.closed = true\n  emit(parser, \"onend\")\n  SAXParser.call(parser, parser.strict, parser.opt)\n  return parser\n}\n\nfunction strictFail (parser, message) {\n  if (typeof parser !== 'object' || !(parser instanceof SAXParser))\n    throw new Error('bad call to strictFail');\n  if (parser.strict) error(parser, message)\n}\n\nfunction newTag (parser) {\n  if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n  var parent = parser.tags[parser.tags.length - 1] || parser\n    , tag = parser.tag = { name : parser.tagName, attributes : {} }\n\n  // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n  if (parser.opt.xmlns) tag.ns = parent.ns\n  parser.attribList.length = 0\n}\n\nfunction qname (name, attribute) {\n  var i = name.indexOf(\":\")\n    , qualName = i < 0 ? [ \"\", name ] : name.split(\":\")\n    , prefix = qualName[0]\n    , local = qualName[1]\n\n  // <x \"xmlns\"=\"http://foo\">\n  if (attribute && name === \"xmlns\") {\n    prefix = \"xmlns\"\n    local = \"\"\n  }\n\n  return { prefix: prefix, local: local }\n}\n\nfunction attrib (parser) {\n  if (!parser.strict) parser.attribName = parser.attribName[parser.looseCase]()\n\n  if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n    return parser.attribName = parser.attribValue = \"\"\n  }\n\n  if (parser.opt.xmlns) {\n    var qn = qname(parser.attribName, true)\n      , prefix = qn.prefix\n      , local = qn.local\n\n    if (prefix === \"xmlns\") {\n      // namespace binding attribute; push the binding into scope\n      if (local === \"xml\" && parser.attribValue !== XML_NAMESPACE) {\n        strictFail( parser\n                  , \"xml: prefix must be bound to \" + XML_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else if (local === \"xmlns\" && parser.attribValue !== XMLNS_NAMESPACE) {\n        strictFail( parser\n                  , \"xmlns: prefix must be bound to \" + XMLNS_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else {\n        var tag = parser.tag\n          , parent = parser.tags[parser.tags.length - 1] || parser\n        if (tag.ns === parent.ns) {\n          tag.ns = Object.create(parent.ns)\n        }\n        tag.ns[local] = parser.attribValue\n      }\n    }\n\n    // defer onattribute events until all attributes have been seen\n    // so any new bindings can take effect; preserve attribute order\n    // so deferred events can be emitted in document order\n    parser.attribList.push([parser.attribName, parser.attribValue])\n  } else {\n    // in non-xmlns mode, we can emit the event right away\n    parser.tag.attributes[parser.attribName] = parser.attribValue\n    emitNode( parser\n            , \"onattribute\"\n            , { name: parser.attribName\n              , value: parser.attribValue } )\n  }\n\n  parser.attribName = parser.attribValue = \"\"\n}\n\nfunction openTag (parser, selfClosing) {\n  if (parser.opt.xmlns) {\n    // emit namespace binding events\n    var tag = parser.tag\n\n    // add namespace info to tag\n    var qn = qname(parser.tagName)\n    tag.prefix = qn.prefix\n    tag.local = qn.local\n    tag.uri = tag.ns[qn.prefix] || \"\"\n\n    if (tag.prefix && !tag.uri) {\n      strictFail(parser, \"Unbound namespace prefix: \"\n                       + JSON.stringify(parser.tagName))\n      tag.uri = qn.prefix\n    }\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (tag.ns && parent.ns !== tag.ns) {\n      Object.keys(tag.ns).forEach(function (p) {\n        emitNode( parser\n                , \"onopennamespace\"\n                , { prefix: p , uri: tag.ns[p] } )\n      })\n    }\n\n    // handle deferred onattribute events\n    // Note: do not apply default ns to attributes:\n    //   http://www.w3.org/TR/REC-xml-names/#defaulting\n    for (var i = 0, l = parser.attribList.length; i < l; i ++) {\n      var nv = parser.attribList[i]\n      var name = nv[0]\n        , value = nv[1]\n        , qualName = qname(name, true)\n        , prefix = qualName.prefix\n        , local = qualName.local\n        , uri = prefix == \"\" ? \"\" : (tag.ns[prefix] || \"\")\n        , a = { name: name\n              , value: value\n              , prefix: prefix\n              , local: local\n              , uri: uri\n              }\n\n      // if there's any attributes with an undefined namespace,\n      // then fail on them now.\n      if (prefix && prefix != \"xmlns\" && !uri) {\n        strictFail(parser, \"Unbound namespace prefix: \"\n                         + JSON.stringify(prefix))\n        a.uri = prefix\n      }\n      parser.tag.attributes[name] = a\n      emitNode(parser, \"onattribute\", a)\n    }\n    parser.attribList.length = 0\n  }\n\n  parser.tag.isSelfClosing = !!selfClosing\n\n  // process the tag\n  parser.sawRoot = true\n  parser.tags.push(parser.tag)\n  emitNode(parser, \"onopentag\", parser.tag)\n  if (!selfClosing) {\n    // special case for <script> in non-strict mode.\n    if (!parser.noscript && parser.tagName.toLowerCase() === \"script\") {\n      parser.state = S.SCRIPT\n    } else {\n      parser.state = S.TEXT\n    }\n    parser.tag = null\n    parser.tagName = \"\"\n  }\n  parser.attribName = parser.attribValue = \"\"\n  parser.attribList.length = 0\n}\n\nfunction closeTag (parser) {\n  if (!parser.tagName) {\n    strictFail(parser, \"Weird empty close tag.\")\n    parser.textNode += \"</>\"\n    parser.state = S.TEXT\n    return\n  }\n\n  if (parser.script) {\n    if (parser.tagName !== \"script\") {\n      parser.script += \"</\" + parser.tagName + \">\"\n      parser.tagName = \"\"\n      parser.state = S.SCRIPT\n      return\n    }\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n\n  // first make sure that the closing tag actually exists.\n  // <a><b></c></b></a> will close everything, otherwise.\n  var t = parser.tags.length\n  var tagName = parser.tagName\n  if (!parser.strict) tagName = tagName[parser.looseCase]()\n  var closeTo = tagName\n  while (t --) {\n    var close = parser.tags[t]\n    if (close.name !== closeTo) {\n      // fail the first time in strict mode\n      strictFail(parser, \"Unexpected close tag\")\n    } else break\n  }\n\n  // didn't find it.  we already failed for strict, so just abort.\n  if (t < 0) {\n    strictFail(parser, \"Unmatched closing tag: \"+parser.tagName)\n    parser.textNode += \"</\" + parser.tagName + \">\"\n    parser.state = S.TEXT\n    return\n  }\n  parser.tagName = tagName\n  var s = parser.tags.length\n  while (s --> t) {\n    var tag = parser.tag = parser.tags.pop()\n    parser.tagName = parser.tag.name\n    emitNode(parser, \"onclosetag\", parser.tagName)\n\n    var x = {}\n    for (var i in tag.ns) x[i] = tag.ns[i]\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (parser.opt.xmlns && tag.ns !== parent.ns) {\n      // remove namespace bindings introduced by tag\n      Object.keys(tag.ns).forEach(function (p) {\n        var n = tag.ns[p]\n        emitNode(parser, \"onclosenamespace\", { prefix: p, uri: n })\n      })\n    }\n  }\n  if (t === 0) parser.closedRoot = true\n  parser.tagName = parser.attribValue = parser.attribName = \"\"\n  parser.attribList.length = 0\n  parser.state = S.TEXT\n}\n\nfunction parseEntity (parser) {\n  var entity = parser.entity\n    , entityLC = entity.toLowerCase()\n    , num\n    , numStr = \"\"\n  if (parser.ENTITIES[entity])\n    return parser.ENTITIES[entity]\n  if (parser.ENTITIES[entityLC])\n    return parser.ENTITIES[entityLC]\n  entity = entityLC\n  if (entity.charAt(0) === \"#\") {\n    if (entity.charAt(1) === \"x\") {\n      entity = entity.slice(2)\n      num = parseInt(entity, 16)\n      numStr = num.toString(16)\n    } else {\n      entity = entity.slice(1)\n      num = parseInt(entity, 10)\n      numStr = num.toString(10)\n    }\n  }\n  entity = entity.replace(/^0+/, \"\")\n  if (numStr.toLowerCase() !== entity) {\n    strictFail(parser, \"Invalid character entity\")\n    return \"&\"+parser.entity + \";\"\n  }\n\n  return String.fromCodePoint(num)\n}\n\nfunction write (chunk) {\n  var parser = this\n  if (this.error) throw this.error\n  if (parser.closed) return error(parser,\n    \"Cannot write after close. Assign an onready handler.\")\n  if (chunk === null) return end(parser)\n  var i = 0, c = \"\"\n  while (parser.c = c = chunk.charAt(i++)) {\n    if (parser.trackPosition) {\n      parser.position ++\n      if (c === \"\\n\") {\n        parser.line ++\n        parser.column = 0\n      } else parser.column ++\n    }\n    switch (parser.state) {\n\n      case S.BEGIN:\n        if (c === \"<\") {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else if (not(whitespace,c)) {\n          // have to process this as a text node.\n          // weird, but happens.\n          strictFail(parser, \"Non-whitespace before first tag.\")\n          parser.textNode = c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.TEXT:\n        if (parser.sawRoot && !parser.closedRoot) {\n          var starti = i-1\n          while (c && c!==\"<\" && c!==\"&\") {\n            c = chunk.charAt(i++)\n            if (c && parser.trackPosition) {\n              parser.position ++\n              if (c === \"\\n\") {\n                parser.line ++\n                parser.column = 0\n              } else parser.column ++\n            }\n          }\n          parser.textNode += chunk.substring(starti, i-1)\n        }\n        if (c === \"<\") {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else {\n          if (not(whitespace, c) && (!parser.sawRoot || parser.closedRoot))\n            strictFail(parser, \"Text data outside of root node.\")\n          if (c === \"&\") parser.state = S.TEXT_ENTITY\n          else parser.textNode += c\n        }\n      continue\n\n      case S.SCRIPT:\n        // only non-strict\n        if (c === \"<\") {\n          parser.state = S.SCRIPT_ENDING\n        } else parser.script += c\n      continue\n\n      case S.SCRIPT_ENDING:\n        if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n        } else {\n          parser.script += \"<\" + c\n          parser.state = S.SCRIPT\n        }\n      continue\n\n      case S.OPEN_WAKA:\n        // either a /, ?, !, or text is coming next.\n        if (c === \"!\") {\n          parser.state = S.SGML_DECL\n          parser.sgmlDecl = \"\"\n        } else if (is(whitespace, c)) {\n          // wait for it...\n        } else if (is(nameStart,c)) {\n          parser.state = S.OPEN_TAG\n          parser.tagName = c\n        } else if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n          parser.tagName = \"\"\n        } else if (c === \"?\") {\n          parser.state = S.PROC_INST\n          parser.procInstName = parser.procInstBody = \"\"\n        } else {\n          strictFail(parser, \"Unencoded <\")\n          // if there was some whitespace, then add that in.\n          if (parser.startTagPosition + 1 < parser.position) {\n            var pad = parser.position - parser.startTagPosition\n            c = new Array(pad).join(\" \") + c\n          }\n          parser.textNode += \"<\" + c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.SGML_DECL:\n        if ((parser.sgmlDecl+c).toUpperCase() === CDATA) {\n          emitNode(parser, \"onopencdata\")\n          parser.state = S.CDATA\n          parser.sgmlDecl = \"\"\n          parser.cdata = \"\"\n        } else if (parser.sgmlDecl+c === \"--\") {\n          parser.state = S.COMMENT\n          parser.comment = \"\"\n          parser.sgmlDecl = \"\"\n        } else if ((parser.sgmlDecl+c).toUpperCase() === DOCTYPE) {\n          parser.state = S.DOCTYPE\n          if (parser.doctype || parser.sawRoot) strictFail(parser,\n            \"Inappropriately located doctype declaration\")\n          parser.doctype = \"\"\n          parser.sgmlDecl = \"\"\n        } else if (c === \">\") {\n          emitNode(parser, \"onsgmldeclaration\", parser.sgmlDecl)\n          parser.sgmlDecl = \"\"\n          parser.state = S.TEXT\n        } else if (is(quote, c)) {\n          parser.state = S.SGML_DECL_QUOTED\n          parser.sgmlDecl += c\n        } else parser.sgmlDecl += c\n      continue\n\n      case S.SGML_DECL_QUOTED:\n        if (c === parser.q) {\n          parser.state = S.SGML_DECL\n          parser.q = \"\"\n        }\n        parser.sgmlDecl += c\n      continue\n\n      case S.DOCTYPE:\n        if (c === \">\") {\n          parser.state = S.TEXT\n          emitNode(parser, \"ondoctype\", parser.doctype)\n          parser.doctype = true // just remember that we saw it.\n        } else {\n          parser.doctype += c\n          if (c === \"[\") parser.state = S.DOCTYPE_DTD\n          else if (is(quote, c)) {\n            parser.state = S.DOCTYPE_QUOTED\n            parser.q = c\n          }\n        }\n      continue\n\n      case S.DOCTYPE_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.q = \"\"\n          parser.state = S.DOCTYPE\n        }\n      continue\n\n      case S.DOCTYPE_DTD:\n        parser.doctype += c\n        if (c === \"]\") parser.state = S.DOCTYPE\n        else if (is(quote,c)) {\n          parser.state = S.DOCTYPE_DTD_QUOTED\n          parser.q = c\n        }\n      continue\n\n      case S.DOCTYPE_DTD_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.state = S.DOCTYPE_DTD\n          parser.q = \"\"\n        }\n      continue\n\n      case S.COMMENT:\n        if (c === \"-\") parser.state = S.COMMENT_ENDING\n        else parser.comment += c\n      continue\n\n      case S.COMMENT_ENDING:\n        if (c === \"-\") {\n          parser.state = S.COMMENT_ENDED\n          parser.comment = textopts(parser.opt, parser.comment)\n          if (parser.comment) emitNode(parser, \"oncomment\", parser.comment)\n          parser.comment = \"\"\n        } else {\n          parser.comment += \"-\" + c\n          parser.state = S.COMMENT\n        }\n      continue\n\n      case S.COMMENT_ENDED:\n        if (c !== \">\") {\n          strictFail(parser, \"Malformed comment\")\n          // allow <!-- blah -- bloo --> in non-strict mode,\n          // which is a comment of \" blah -- bloo \"\n          parser.comment += \"--\" + c\n          parser.state = S.COMMENT\n        } else parser.state = S.TEXT\n      continue\n\n      case S.CDATA:\n        if (c === \"]\") parser.state = S.CDATA_ENDING\n        else parser.cdata += c\n      continue\n\n      case S.CDATA_ENDING:\n        if (c === \"]\") parser.state = S.CDATA_ENDING_2\n        else {\n          parser.cdata += \"]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.CDATA_ENDING_2:\n        if (c === \">\") {\n          if (parser.cdata) emitNode(parser, \"oncdata\", parser.cdata)\n          emitNode(parser, \"onclosecdata\")\n          parser.cdata = \"\"\n          parser.state = S.TEXT\n        } else if (c === \"]\") {\n          parser.cdata += \"]\"\n        } else {\n          parser.cdata += \"]]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.PROC_INST:\n        if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else if (is(whitespace, c)) parser.state = S.PROC_INST_BODY\n        else parser.procInstName += c\n      continue\n\n      case S.PROC_INST_BODY:\n        if (!parser.procInstBody && is(whitespace, c)) continue\n        else if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else parser.procInstBody += c\n      continue\n\n      case S.PROC_INST_ENDING:\n        if (c === \">\") {\n          emitNode(parser, \"onprocessinginstruction\", {\n            name : parser.procInstName,\n            body : parser.procInstBody\n          })\n          parser.procInstName = parser.procInstBody = \"\"\n          parser.state = S.TEXT\n        } else {\n          parser.procInstBody += \"?\" + c\n          parser.state = S.PROC_INST_BODY\n        }\n      continue\n\n      case S.OPEN_TAG:\n        if (is(nameBody, c)) parser.tagName += c\n        else {\n          newTag(parser)\n          if (c === \">\") openTag(parser)\n          else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n          else {\n            if (not(whitespace, c)) strictFail(\n              parser, \"Invalid character in tag name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.OPEN_TAG_SLASH:\n        if (c === \">\") {\n          openTag(parser, true)\n          closeTag(parser)\n        } else {\n          strictFail(parser, \"Forward-slash in opening tag not followed by >\")\n          parser.state = S.ATTRIB\n        }\n      continue\n\n      case S.ATTRIB:\n        // haven't read the attribute name yet.\n        if (is(whitespace, c)) continue\n        else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (c === \">\") {\n          strictFail(parser, \"Attribute without value\")\n          parser.attribValue = parser.attribName\n          attrib(parser)\n          openTag(parser)\n        }\n        else if (is(whitespace, c)) parser.state = S.ATTRIB_NAME_SAW_WHITE\n        else if (is(nameBody, c)) parser.attribName += c\n        else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME_SAW_WHITE:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (is(whitespace, c)) continue\n        else {\n          strictFail(parser, \"Attribute without value\")\n          parser.tag.attributes[parser.attribName] = \"\"\n          parser.attribValue = \"\"\n          emitNode(parser, \"onattribute\",\n                   { name : parser.attribName, value : \"\" })\n          parser.attribName = \"\"\n          if (c === \">\") openTag(parser)\n          else if (is(nameStart, c)) {\n            parser.attribName = c\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, \"Invalid attribute name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.ATTRIB_VALUE:\n        if (is(whitespace, c)) continue\n        else if (is(quote, c)) {\n          parser.q = c\n          parser.state = S.ATTRIB_VALUE_QUOTED\n        } else {\n          strictFail(parser, \"Unquoted attribute value\")\n          parser.state = S.ATTRIB_VALUE_UNQUOTED\n          parser.attribValue = c\n        }\n      continue\n\n      case S.ATTRIB_VALUE_QUOTED:\n        if (c !== parser.q) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_Q\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        parser.q = \"\"\n        parser.state = S.ATTRIB_VALUE_CLOSED\n      continue\n\n      case S.ATTRIB_VALUE_CLOSED:\n        if (is(whitespace, c)) {\n          parser.state = S.ATTRIB\n        } else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          strictFail(parser, \"No whitespace between attributes\")\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_VALUE_UNQUOTED:\n        if (not(attribEnd,c)) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_U\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        if (c === \">\") openTag(parser)\n        else parser.state = S.ATTRIB\n      continue\n\n      case S.CLOSE_TAG:\n        if (!parser.tagName) {\n          if (is(whitespace, c)) continue\n          else if (not(nameStart, c)) {\n            if (parser.script) {\n              parser.script += \"</\" + c\n              parser.state = S.SCRIPT\n            } else {\n              strictFail(parser, \"Invalid tagname in closing tag.\")\n            }\n          } else parser.tagName = c\n        }\n        else if (c === \">\") closeTag(parser)\n        else if (is(nameBody, c)) parser.tagName += c\n        else if (parser.script) {\n          parser.script += \"</\" + parser.tagName\n          parser.tagName = \"\"\n          parser.state = S.SCRIPT\n        } else {\n          if (not(whitespace, c)) strictFail(parser,\n            \"Invalid tagname in closing tag\")\n          parser.state = S.CLOSE_TAG_SAW_WHITE\n        }\n      continue\n\n      case S.CLOSE_TAG_SAW_WHITE:\n        if (is(whitespace, c)) continue\n        if (c === \">\") closeTag(parser)\n        else strictFail(parser, \"Invalid characters in closing tag\")\n      continue\n\n      case S.TEXT_ENTITY:\n      case S.ATTRIB_VALUE_ENTITY_Q:\n      case S.ATTRIB_VALUE_ENTITY_U:\n        switch(parser.state) {\n          case S.TEXT_ENTITY:\n            var returnState = S.TEXT, buffer = \"textNode\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_Q:\n            var returnState = S.ATTRIB_VALUE_QUOTED, buffer = \"attribValue\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_U:\n            var returnState = S.ATTRIB_VALUE_UNQUOTED, buffer = \"attribValue\"\n          break\n        }\n        if (c === \";\") {\n          parser[buffer] += parseEntity(parser)\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n        else if (is(entity, c)) parser.entity += c\n        else {\n          strictFail(parser, \"Invalid character entity\")\n          parser[buffer] += \"&\" + parser.entity + c\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n      continue\n\n      default:\n        throw new Error(parser, \"Unknown state: \" + parser.state)\n    }\n  } // while\n  // cdata blocks can get very big under normal conditions. emit and move on.\n  // if (parser.state === S.CDATA && parser.cdata) {\n  //   emitNode(parser, \"oncdata\", parser.cdata)\n  //   parser.cdata = \"\"\n  // }\n  if (parser.position >= parser.bufferCheckPosition) checkBufferLength(parser)\n  return parser\n}\n\n/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\nif (!String.fromCodePoint) {\n        (function() {\n                var stringFromCharCode = String.fromCharCode;\n                var floor = Math.floor;\n                var fromCodePoint = function() {\n                        var MAX_SIZE = 0x4000;\n                        var codeUnits = [];\n                        var highSurrogate;\n                        var lowSurrogate;\n                        var index = -1;\n                        var length = arguments.length;\n                        if (!length) {\n                                return '';\n                        }\n                        var result = '';\n                        while (++index < length) {\n                                var codePoint = Number(arguments[index]);\n                                if (\n                                        !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n                                        codePoint < 0 || // not a valid Unicode code point\n                                        codePoint > 0x10FFFF || // not a valid Unicode code point\n                                        floor(codePoint) != codePoint // not an integer\n                                ) {\n                                        throw RangeError('Invalid code point: ' + codePoint);\n                                }\n                                if (codePoint <= 0xFFFF) { // BMP code point\n                                        codeUnits.push(codePoint);\n                                } else { // Astral code point; split in surrogate halves\n                                        // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n                                        codePoint -= 0x10000;\n                                        highSurrogate = (codePoint >> 10) + 0xD800;\n                                        lowSurrogate = (codePoint % 0x400) + 0xDC00;\n                                        codeUnits.push(highSurrogate, lowSurrogate);\n                                }\n                                if (index + 1 == length || codeUnits.length > MAX_SIZE) {\n                                        result += stringFromCharCode.apply(null, codeUnits);\n                                        codeUnits.length = 0;\n                                }\n                        }\n                        return result;\n                };\n                if (Object.defineProperty) {\n                        Object.defineProperty(String, 'fromCodePoint', {\n                                'value': fromCodePoint,\n                                'configurable': true,\n                                'writable': true\n                        });\n                } else {\n                        String.fromCodePoint = fromCodePoint;\n                }\n        }());\n}\n\n})(typeof exports === \"undefined\" ? sax = {} : exports)\n\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":10,\"stream\":17,\"string_decoder\":18}],39:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLAttribute, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing attribute value\");\n      }\n      this.name = this.stringify.attName(name);\n      this.value = this.stringify.attValue(value);\n    }\n\n    XMLAttribute.prototype.clone = function() {\n      return create(XMLAttribute.prototype, this);\n    };\n\n    XMLAttribute.prototype.toString = function(options, level) {\n      return ' ' + this.name + '=\"' + this.value + '\"';\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":68}],40:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLBuilder, XMLDeclaration, XMLDocType, XMLElement, XMLStringifier;\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLElement = require('./XMLElement');\n\n  module.exports = XMLBuilder = (function() {\n    function XMLBuilder(name, options) {\n      var root, temp;\n      if (name == null) {\n        throw new Error(\"Root element needs a name\");\n      }\n      if (options == null) {\n        options = {};\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n      temp = new XMLElement(this, 'doc');\n      root = temp.element(name);\n      root.isRoot = true;\n      root.documentObject = this;\n      this.rootObject = root;\n      if (!options.headless) {\n        root.declaration(options);\n        if ((options.pubID != null) || (options.sysID != null)) {\n          root.doctype(options);\n        }\n      }\n    }\n\n    XMLBuilder.prototype.root = function() {\n      return this.rootObject;\n    };\n\n    XMLBuilder.prototype.end = function(options) {\n      return this.toString(options);\n    };\n\n    XMLBuilder.prototype.toString = function(options) {\n      var indent, newline, offset, pretty, r, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      r = '';\n      if (this.xmldec != null) {\n        r += this.xmldec.toString(options);\n      }\n      if (this.doctype != null) {\n        r += this.doctype.toString(options);\n      }\n      r += this.rootObject.toString(options);\n      if (pretty && r.slice(-newline.length) === newline) {\n        r = r.slice(0, -newline.length);\n      }\n      return r;\n    };\n\n    return XMLBuilder;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLDeclaration\":47,\"./XMLDocType\":48,\"./XMLElement\":49,\"./XMLStringifier\":53}],41:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLCData, XMLNode, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCData = (function(_super) {\n    __extends(XMLCData, _super);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text\");\n      }\n      this.text = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return create(XMLCData.prototype, this);\n    };\n\n    XMLCData.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<![CDATA[' + this.text + ']]>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLCData;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":50,\"lodash-node/modern/objects/create\":68}],42:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLComment, XMLNode, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLComment = (function(_super) {\n    __extends(XMLComment, _super);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text\");\n      }\n      this.text = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return create(XMLComment.prototype, this);\n    };\n\n    XMLComment.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!-- ' + this.text + ' -->';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLComment;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":50,\"lodash-node/modern/objects/create\":68}],43:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDAttList, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLDTDAttList = (function() {\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      this.stringify = parent.stringify;\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name\");\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type\");\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default\");\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT\");\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT\");\n      }\n      this.elementName = this.stringify.eleName(elementName);\n      this.attributeName = this.stringify.attName(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.clone = function() {\n      return create(XMLDTDAttList.prototype, this);\n    };\n\n    XMLDTDAttList.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ATTLIST ' + this.elementName + ' ' + this.attributeName + ' ' + this.attributeType;\n      if (this.defaultValueType !== '#DEFAULT') {\n        r += ' ' + this.defaultValueType;\n      }\n      if (this.defaultValue) {\n        r += ' \"' + this.defaultValue + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDAttList;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":68}],44:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDElement, create, isArray;\n\n  create = require('lodash-node/modern/objects/create');\n\n  isArray = require('lodash-node/modern/objects/isArray');\n\n  module.exports = XMLDTDElement = (function() {\n    function XMLDTDElement(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.eleName(name);\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.clone = function() {\n      return create(XMLDTDElement.prototype, this);\n    };\n\n    XMLDTDElement.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ELEMENT ' + this.name + ' ' + this.value + '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDElement;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":68,\"lodash-node/modern/objects/isArray\":70}],45:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDEntity, create, isObject;\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  module.exports = XMLDTDEntity = (function() {\n    function XMLDTDEntity(parent, pe, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing entity name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing entity value\");\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.eleName(name);\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity\");\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity\");\n        }\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity\");\n        }\n      }\n    }\n\n    XMLDTDEntity.prototype.clone = function() {\n      return create(XMLDTDEntity.prototype, this);\n    };\n\n    XMLDTDEntity.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ENTITY';\n      if (this.pe) {\n        r += ' %';\n      }\n      r += ' ' + this.name;\n      if (this.value) {\n        r += ' \"' + this.value + '\"';\n      } else {\n        if (this.pubID && this.sysID) {\n          r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n        } else if (this.sysID) {\n          r += ' SYSTEM \"' + this.sysID + '\"';\n        }\n        if (this.nData) {\n          r += ' NDATA ' + this.nData;\n        }\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDEntity;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":68,\"lodash-node/modern/objects/isObject\":73}],46:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDNotation, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLDTDNotation = (function() {\n    function XMLDTDNotation(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing notation name\");\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity\");\n      }\n      this.name = this.stringify.eleName(name);\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    XMLDTDNotation.prototype.clone = function() {\n      return create(XMLDTDNotation.prototype, this);\n    };\n\n    XMLDTDNotation.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!NOTATION ' + this.name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.pubID) {\n        r += ' PUBLIC \"' + this.pubID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDNotation;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":68}],47:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDeclaration, XMLNode, create, isObject,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDeclaration = (function(_super) {\n    __extends(XMLDeclaration, _super);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var _ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        _ref = version, version = _ref.version, encoding = _ref.encoding, standalone = _ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      if (version != null) {\n        this.version = this.stringify.xmlVersion(version);\n      }\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.clone = function() {\n      return create(XMLDeclaration.prototype, this);\n    };\n\n    XMLDeclaration.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?xml';\n      if (this.version != null) {\n        r += ' version=\"' + this.version + '\"';\n      }\n      if (this.encoding != null) {\n        r += ' encoding=\"' + this.encoding + '\"';\n      }\n      if (this.standalone != null) {\n        r += ' standalone=\"' + this.standalone + '\"';\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":50,\"lodash-node/modern/objects/create\":68,\"lodash-node/modern/objects/isObject\":73}],48:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDocType, create, isObject;\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  module.exports = XMLDocType = (function() {\n    function XMLDocType(parent, pubID, sysID) {\n      var _ref, _ref1;\n      this.documentObject = parent;\n      this.stringify = this.documentObject.stringify;\n      this.children = [];\n      if (isObject(pubID)) {\n        _ref = pubID, pubID = _ref.pubID, sysID = _ref.sysID;\n      }\n      if (sysID == null) {\n        _ref1 = [pubID, sysID], sysID = _ref1[0], pubID = _ref1[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    XMLDocType.prototype.clone = function() {\n      return create(XMLDocType.prototype, this);\n    };\n\n    XMLDocType.prototype.element = function(name, value) {\n      var XMLDTDElement, child;\n      XMLDTDElement = require('./XMLDTDElement');\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var XMLDTDAttList, child;\n      XMLDTDAttList = require('./XMLDTDAttList');\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var XMLDTDEntity, child;\n      XMLDTDEntity = require('./XMLDTDEntity');\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var XMLDTDEntity, child;\n      XMLDTDEntity = require('./XMLDTDEntity');\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var XMLDTDNotation, child;\n      XMLDTDNotation = require('./XMLDTDNotation');\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.cdata = function(value) {\n      var XMLCData, child;\n      XMLCData = require('./XMLCData');\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.comment = function(value) {\n      var XMLComment, child;\n      XMLComment = require('./XMLComment');\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.instruction = function(target, value) {\n      var XMLProcessingInstruction, child;\n      XMLProcessingInstruction = require('./XMLProcessingInstruction');\n      child = new XMLProcessingInstruction(this, target, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.root = function() {\n      return this.documentObject.root();\n    };\n\n    XMLDocType.prototype.document = function() {\n      return this.documentObject;\n    };\n\n    XMLDocType.prototype.toString = function(options, level) {\n      var child, indent, newline, offset, pretty, r, space, _i, _len, _ref, _ref1, _ref2, _ref3;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!DOCTYPE ' + this.root().name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      if (this.children.length > 0) {\n        r += ' [';\n        if (pretty) {\n          r += newline;\n        }\n        _ref3 = this.children;\n        for (_i = 0, _len = _ref3.length; _i < _len; _i++) {\n          child = _ref3[_i];\n          r += child.toString(options, level + 1);\n        }\n        r += ']';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocType.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocType.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root();\n    };\n\n    XMLDocType.prototype.doc = function() {\n      return this.document();\n    };\n\n    return XMLDocType;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLCData\":41,\"./XMLComment\":42,\"./XMLDTDAttList\":43,\"./XMLDTDElement\":44,\"./XMLDTDEntity\":45,\"./XMLDTDNotation\":46,\"./XMLProcessingInstruction\":51,\"lodash-node/modern/objects/create\":68,\"lodash-node/modern/objects/isObject\":73}],49:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLAttribute, XMLElement, XMLNode, XMLProcessingInstruction, create, isArray, isFunction, isObject,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  isArray = require('lodash-node/modern/objects/isArray');\n\n  isFunction = require('lodash-node/modern/objects/isFunction');\n\n  XMLNode = require('./XMLNode');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  module.exports = XMLElement = (function(_super) {\n    __extends(XMLElement, _super);\n\n    function XMLElement(parent, name, attributes) {\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name\");\n      }\n      this.name = this.stringify.eleName(name);\n      this.children = [];\n      this.instructions = [];\n      this.attributes = {};\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n    }\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, pi, _i, _len, _ref, _ref1;\n      clonedSelf = create(XMLElement.prototype, this);\n      clonedSelf.attributes = {};\n      _ref = this.attributes;\n      for (attName in _ref) {\n        if (!__hasProp.call(_ref, attName)) continue;\n        att = _ref[attName];\n        clonedSelf.attributes[attName] = att.clone();\n      }\n      clonedSelf.instructions = [];\n      _ref1 = this.instructions;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        pi = _ref1[_i];\n        clonedSelf.instructions.push(pi.clone());\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!__hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (!this.options.skipNullAttributes || (value != null)) {\n          this.attributes[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, _i, _len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      name = name.valueOf();\n      if (isArray(name)) {\n        for (_i = 0, _len = name.length; _i < _len; _i++) {\n          attName = name[_i];\n          delete this.attributes[attName];\n        }\n      } else {\n        delete this.attributes[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, _i, _len;\n      if (target != null) {\n        target = target.valueOf();\n      }\n      if (value != null) {\n        value = value.valueOf();\n      }\n      if (isArray(target)) {\n        for (_i = 0, _len = target.length; _i < _len; _i++) {\n          insTarget = target[_i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!__hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.instructions.push(instruction);\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options, level) {\n      var att, child, indent, instruction, name, newline, offset, pretty, r, space, _i, _j, _len, _len1, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      _ref3 = this.instructions;\n      for (_i = 0, _len = _ref3.length; _i < _len; _i++) {\n        instruction = _ref3[_i];\n        r += instruction.toString(options, level + 1);\n      }\n      if (pretty) {\n        r += space;\n      }\n      r += '<' + this.name;\n      _ref4 = this.attributes;\n      for (name in _ref4) {\n        if (!__hasProp.call(_ref4, name)) continue;\n        att = _ref4[name];\n        r += att.toString(options);\n      }\n      if (this.children.length === 0) {\n        r += '/>';\n        if (pretty) {\n          r += newline;\n        }\n      } else if (pretty && this.children.length === 1 && (this.children[0].value != null)) {\n        r += '>';\n        r += this.children[0].value;\n        r += '</' + this.name + '>';\n        r += newline;\n      } else {\n        r += '>';\n        if (pretty) {\n          r += newline;\n        }\n        _ref5 = this.children;\n        for (_j = 0, _len1 = _ref5.length; _j < _len1; _j++) {\n          child = _ref5[_j];\n          r += child.toString(options, level + 1);\n        }\n        if (pretty) {\n          r += space;\n        }\n        r += '</' + this.name + '>';\n        if (pretty) {\n          r += newline;\n        }\n      }\n      return r;\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLAttribute\":39,\"./XMLNode\":50,\"./XMLProcessingInstruction\":51,\"lodash-node/modern/objects/create\":68,\"lodash-node/modern/objects/isArray\":70,\"lodash-node/modern/objects/isFunction\":72,\"lodash-node/modern/objects/isObject\":73}],50:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, isArray, isEmpty, isFunction, isObject,\n    __hasProp = {}.hasOwnProperty;\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  isArray = require('lodash-node/modern/objects/isArray');\n\n  isFunction = require('lodash-node/modern/objects/isFunction');\n\n  isEmpty = require('lodash-node/modern/objects/isEmpty');\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent) {\n      this.parent = parent;\n      this.options = this.parent.options;\n      this.stringify = this.parent.stringify;\n    }\n\n    XMLNode.prototype.clone = function() {\n      throw new Error(\"Cannot clone generic XMLNode\");\n    };\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var item, key, lastChild, val, _i, _len, _ref;\n      lastChild = null;\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        _ref = [attributes, text], text = _ref[0], attributes = _ref[1];\n      }\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isArray(name)) {\n        for (_i = 0, _len = name.length; _i < _len; _i++) {\n          item = name[_i];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!__hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if ((isObject(val)) && (isEmpty(val))) {\n            val = null;\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && key.indexOf(this.stringify.convertPIKey) === 0) {\n            lastChild = this.instruction(key.substr(this.stringify.convertPIKey.length), val);\n          } else if (isObject(val)) {\n            if (!this.options.ignoreDecorators && this.stringify.convertListKey && key.indexOf(this.stringify.convertListKey) === 0 && isArray(val)) {\n              lastChild = this.element(val);\n            } else {\n              lastChild = this.element(key);\n              lastChild.element(val);\n            }\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name);\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, _ref;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element\");\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(_ref = [])), _ref;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var XMLElement, child, _ref;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        _ref = [attributes, text], text = _ref[0], attributes = _ref[1];\n      }\n      XMLElement = require('./XMLElement');\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var XMLText, child;\n      XMLText = require('./XMLText');\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var XMLCData, child;\n      XMLCData = require('./XMLCData');\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var XMLComment, child;\n      XMLComment = require('./XMLComment');\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var XMLRaw, child;\n      XMLRaw = require('./XMLRaw');\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var XMLDeclaration, doc, xmldec;\n      doc = this.document();\n      XMLDeclaration = require('./XMLDeclaration');\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      doc.xmldec = xmldec;\n      return doc.root();\n    };\n\n    XMLNode.prototype.doctype = function(pubID, sysID) {\n      var XMLDocType, doc, doctype;\n      doc = this.document();\n      XMLDocType = require('./XMLDocType');\n      doctype = new XMLDocType(doc, pubID, sysID);\n      doc.doctype = doctype;\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var child;\n      if (this.isRoot) {\n        return this;\n      }\n      child = this.parent;\n      while (!child.isRoot) {\n        child = child.parent;\n      }\n      return child;\n    };\n\n    XMLNode.prototype.document = function() {\n      return this.root().documentObject;\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().toString(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node\");\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node\");\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(xmlbuilder) {\n      var clonedRoot;\n      clonedRoot = xmlbuilder.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      return this.doctype(pubID, sysID);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLCData\":41,\"./XMLComment\":42,\"./XMLDeclaration\":47,\"./XMLDocType\":48,\"./XMLElement\":49,\"./XMLRaw\":52,\"./XMLText\":54,\"lodash-node/modern/objects/isArray\":70,\"lodash-node/modern/objects/isEmpty\":71,\"lodash-node/modern/objects/isFunction\":72,\"lodash-node/modern/objects/isObject\":73}],51:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLProcessingInstruction, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLProcessingInstruction = (function() {\n    function XMLProcessingInstruction(parent, target, value) {\n      this.stringify = parent.stringify;\n      if (target == null) {\n        throw new Error(\"Missing instruction target\");\n      }\n      this.target = this.stringify.insTarget(target);\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return create(XMLProcessingInstruction.prototype, this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?';\n      r += this.target;\n      if (this.value) {\n        r += ' ' + this.value;\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLProcessingInstruction;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":68}],52:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, XMLRaw, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(_super) {\n    __extends(XMLRaw, _super);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text\");\n      }\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return create(XMLRaw.prototype, this);\n    };\n\n    XMLRaw.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":50,\"lodash-node/modern/objects/create\":68}],53:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLStringifier,\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    __hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalChar = __bind(this.assertLegalChar, this);\n      var key, value, _ref;\n      this.allowSurrogateChars = options != null ? options.allowSurrogateChars : void 0;\n      _ref = (options != null ? options.stringify : void 0) || {};\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.eleName = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.eleText = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(this.elEscape(val));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      val = '' + val || '';\n      if (val.match(/]]>/)) {\n        throw new Error(\"Invalid CDATA text: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attName = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      val = '' + val || '';\n      return this.attEscape(val);\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      val = '' + val || '';\n      if (!val.match(/[A-Za-z](?:[A-Za-z0-9._-]|-)*/)) {\n        throw new Error(\"Invalid encoding: \" + options.val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (val != null) {\n        return '' + val || '';\n      } else {\n        return val;\n      }\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.convertListKey = '#list';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var chars, chr;\n      if (this.allowSurrogateChars) {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uFFFE-\\uFFFF]/;\n      } else {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uD800-\\uDFFF\\uFFFE-\\uFFFF]/;\n      }\n      chr = str.match(chars);\n      if (chr) {\n        throw new Error(\"Invalid character (\" + chr + \") in string: \" + str + \" at index \" + chr.index);\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.elEscape = function(str) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n\n},{}],54:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, XMLText, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLText = (function(_super) {\n    __extends(XMLText, _super);\n\n    function XMLText(parent, text) {\n      this.parent = parent;\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text\");\n      }\n      this.value = this.stringify.eleText(text);\n    }\n\n    XMLText.prototype.clone = function() {\n      return create(XMLText.prototype, this);\n    };\n\n    XMLText.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLText;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":50,\"lodash-node/modern/objects/create\":68}],55:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLBuilder, assign;\n\n  assign = require('lodash-node/modern/objects/assign');\n\n  XMLBuilder = require('./XMLBuilder');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    options = assign({}, xmldec, doctype, options);\n    return new XMLBuilder(name, options).root();\n  };\n\n}).call(this);\n\n},{\"./XMLBuilder\":40,\"lodash-node/modern/objects/assign\":67}],56:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar createWrapper = require('../internals/createWrapper'),\n    slice = require('../internals/slice');\n\n/**\n * Creates a function that, when called, invokes `func` with the `this`\n * binding of `thisArg` and prepends any additional `bind` arguments to those\n * provided to the bound function.\n *\n * @static\n * @memberOf _\n * @category Functions\n * @param {Function} func The function to bind.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {...*} [arg] Arguments to be partially applied.\n * @returns {Function} Returns the new bound function.\n * @example\n *\n * var func = function(greeting) {\n *   return greeting + ' ' + this.name;\n * };\n *\n * func = _.bind(func, { 'name': 'fred' }, 'hi');\n * func();\n * // => 'hi fred'\n */\nfunction bind(func, thisArg) {\n  return arguments.length > 2\n    ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)\n    : createWrapper(func, 1, null, null, thisArg);\n}\n\nmodule.exports = bind;\n\n},{\"../internals/createWrapper\":61,\"../internals/slice\":66}],57:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreate = require('./baseCreate'),\n    isObject = require('../objects/isObject'),\n    setBindData = require('./setBindData'),\n    slice = require('./slice');\n\n/**\n * Used for `Array` method references.\n *\n * Normally `Array.prototype` would suffice, however, using an array literal\n * avoids issues in Narwhal.\n */\nvar arrayRef = [];\n\n/** Native method shortcuts */\nvar push = arrayRef.push;\n\n/**\n * The base implementation of `_.bind` that creates the bound function and\n * sets its meta data.\n *\n * @private\n * @param {Array} bindData The bind data array.\n * @returns {Function} Returns the new bound function.\n */\nfunction baseBind(bindData) {\n  var func = bindData[0],\n      partialArgs = bindData[2],\n      thisArg = bindData[4];\n\n  function bound() {\n    // `Function#bind` spec\n    // http://es5.github.io/#x15.3.4.5\n    if (partialArgs) {\n      // avoid `arguments` object deoptimizations by using `slice` instead\n      // of `Array.prototype.slice.call` and not assigning `arguments` to a\n      // variable as a ternary expression\n      var args = slice(partialArgs);\n      push.apply(args, arguments);\n    }\n    // mimic the constructor's `return` behavior\n    // http://es5.github.io/#x13.2.2\n    if (this instanceof bound) {\n      // ensure `new bound` is an instance of `func`\n      var thisBinding = baseCreate(func.prototype),\n          result = func.apply(thisBinding, args || arguments);\n      return isObject(result) ? result : thisBinding;\n    }\n    return func.apply(thisArg, args || arguments);\n  }\n  setBindData(bound, bindData);\n  return bound;\n}\n\nmodule.exports = baseBind;\n\n},{\"../objects/isObject\":73,\"./baseCreate\":58,\"./setBindData\":64,\"./slice\":66}],58:[function(require,module,exports){\n(function (global){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('./isNative'),\n    isObject = require('../objects/isObject'),\n    noop = require('../utilities/noop');\n\n/* Native method shortcuts for methods with the same name as other `lodash` methods */\nvar nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(prototype, properties) {\n  return isObject(prototype) ? nativeCreate(prototype) : {};\n}\n// fallback for browsers without `Object.create`\nif (!nativeCreate) {\n  baseCreate = (function() {\n    function Object() {}\n    return function(prototype) {\n      if (isObject(prototype)) {\n        Object.prototype = prototype;\n        var result = new Object;\n        Object.prototype = null;\n      }\n      return result || global.Object();\n    };\n  }());\n}\n\nmodule.exports = baseCreate;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../objects/isObject\":73,\"../utilities/noop\":77,\"./isNative\":62}],59:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar bind = require('../functions/bind'),\n    identity = require('../utilities/identity'),\n    setBindData = require('./setBindData'),\n    support = require('../support');\n\n/** Used to detected named functions */\nvar reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n/** Used to detect functions containing a `this` reference */\nvar reThis = /\\bthis\\b/;\n\n/** Native method shortcuts */\nvar fnToString = Function.prototype.toString;\n\n/**\n * The base implementation of `_.createCallback` without support for creating\n * \"_.pluck\" or \"_.where\" style callbacks.\n *\n * @private\n * @param {*} [func=identity] The value to convert to a callback.\n * @param {*} [thisArg] The `this` binding of the created callback.\n * @param {number} [argCount] The number of arguments the callback accepts.\n * @returns {Function} Returns a callback function.\n */\nfunction baseCreateCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  // exit early for no `thisArg` or already bound by `Function#bind`\n  if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n    return func;\n  }\n  var bindData = func.__bindData__;\n  if (typeof bindData == 'undefined') {\n    if (support.funcNames) {\n      bindData = !func.name;\n    }\n    bindData = bindData || !support.funcDecomp;\n    if (!bindData) {\n      var source = fnToString.call(func);\n      if (!support.funcNames) {\n        bindData = !reFuncName.test(source);\n      }\n      if (!bindData) {\n        // checks if `func` references the `this` keyword and stores the result\n        bindData = reThis.test(source);\n        setBindData(func, bindData);\n      }\n    }\n  }\n  // exit early if there are no `this` references or `func` is bound\n  if (bindData === false || (bindData !== true && bindData[1] & 1)) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 2: return function(a, b) {\n      return func.call(thisArg, a, b);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n  }\n  return bind(func, thisArg);\n}\n\nmodule.exports = baseCreateCallback;\n\n},{\"../functions/bind\":56,\"../support\":75,\"../utilities/identity\":76,\"./setBindData\":64}],60:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreate = require('./baseCreate'),\n    isObject = require('../objects/isObject'),\n    setBindData = require('./setBindData'),\n    slice = require('./slice');\n\n/**\n * Used for `Array` method references.\n *\n * Normally `Array.prototype` would suffice, however, using an array literal\n * avoids issues in Narwhal.\n */\nvar arrayRef = [];\n\n/** Native method shortcuts */\nvar push = arrayRef.push;\n\n/**\n * The base implementation of `createWrapper` that creates the wrapper and\n * sets its meta data.\n *\n * @private\n * @param {Array} bindData The bind data array.\n * @returns {Function} Returns the new function.\n */\nfunction baseCreateWrapper(bindData) {\n  var func = bindData[0],\n      bitmask = bindData[1],\n      partialArgs = bindData[2],\n      partialRightArgs = bindData[3],\n      thisArg = bindData[4],\n      arity = bindData[5];\n\n  var isBind = bitmask & 1,\n      isBindKey = bitmask & 2,\n      isCurry = bitmask & 4,\n      isCurryBound = bitmask & 8,\n      key = func;\n\n  function bound() {\n    var thisBinding = isBind ? thisArg : this;\n    if (partialArgs) {\n      var args = slice(partialArgs);\n      push.apply(args, arguments);\n    }\n    if (partialRightArgs || isCurry) {\n      args || (args = slice(arguments));\n      if (partialRightArgs) {\n        push.apply(args, partialRightArgs);\n      }\n      if (isCurry && args.length < arity) {\n        bitmask |= 16 & ~32;\n        return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);\n      }\n    }\n    args || (args = arguments);\n    if (isBindKey) {\n      func = thisBinding[key];\n    }\n    if (this instanceof bound) {\n      thisBinding = baseCreate(func.prototype);\n      var result = func.apply(thisBinding, args);\n      return isObject(result) ? result : thisBinding;\n    }\n    return func.apply(thisBinding, args);\n  }\n  setBindData(bound, bindData);\n  return bound;\n}\n\nmodule.exports = baseCreateWrapper;\n\n},{\"../objects/isObject\":73,\"./baseCreate\":58,\"./setBindData\":64,\"./slice\":66}],61:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseBind = require('./baseBind'),\n    baseCreateWrapper = require('./baseCreateWrapper'),\n    isFunction = require('../objects/isFunction'),\n    slice = require('./slice');\n\n/**\n * Used for `Array` method references.\n *\n * Normally `Array.prototype` would suffice, however, using an array literal\n * avoids issues in Narwhal.\n */\nvar arrayRef = [];\n\n/** Native method shortcuts */\nvar push = arrayRef.push,\n    unshift = arrayRef.unshift;\n\n/**\n * Creates a function that, when called, either curries or invokes `func`\n * with an optional `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to reference.\n * @param {number} bitmask The bitmask of method flags to compose.\n *  The bitmask may be composed of the following flags:\n *  1 - `_.bind`\n *  2 - `_.bindKey`\n *  4 - `_.curry`\n *  8 - `_.curry` (bound)\n *  16 - `_.partial`\n *  32 - `_.partialRight`\n * @param {Array} [partialArgs] An array of arguments to prepend to those\n *  provided to the new function.\n * @param {Array} [partialRightArgs] An array of arguments to append to those\n *  provided to the new function.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new function.\n */\nfunction createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n  var isBind = bitmask & 1,\n      isBindKey = bitmask & 2,\n      isCurry = bitmask & 4,\n      isCurryBound = bitmask & 8,\n      isPartial = bitmask & 16,\n      isPartialRight = bitmask & 32;\n\n  if (!isBindKey && !isFunction(func)) {\n    throw new TypeError;\n  }\n  if (isPartial && !partialArgs.length) {\n    bitmask &= ~16;\n    isPartial = partialArgs = false;\n  }\n  if (isPartialRight && !partialRightArgs.length) {\n    bitmask &= ~32;\n    isPartialRight = partialRightArgs = false;\n  }\n  var bindData = func && func.__bindData__;\n  if (bindData && bindData !== true) {\n    // clone `bindData`\n    bindData = slice(bindData);\n    if (bindData[2]) {\n      bindData[2] = slice(bindData[2]);\n    }\n    if (bindData[3]) {\n      bindData[3] = slice(bindData[3]);\n    }\n    // set `thisBinding` is not previously bound\n    if (isBind && !(bindData[1] & 1)) {\n      bindData[4] = thisArg;\n    }\n    // set if previously bound but not currently (subsequent curried functions)\n    if (!isBind && bindData[1] & 1) {\n      bitmask |= 8;\n    }\n    // set curried arity if not yet set\n    if (isCurry && !(bindData[1] & 4)) {\n      bindData[5] = arity;\n    }\n    // append partial left arguments\n    if (isPartial) {\n      push.apply(bindData[2] || (bindData[2] = []), partialArgs);\n    }\n    // append partial right arguments\n    if (isPartialRight) {\n      unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);\n    }\n    // merge flags\n    bindData[1] |= bitmask;\n    return createWrapper.apply(null, bindData);\n  }\n  // fast path for `_.bind`\n  var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;\n  return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n}\n\nmodule.exports = createWrapper;\n\n},{\"../objects/isFunction\":72,\"./baseBind\":57,\"./baseCreateWrapper\":60,\"./slice\":66}],62:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the internal [[Class]] of values */\nvar toString = objectProto.toString;\n\n/** Used to detect if a method is native */\nvar reNative = RegExp('^' +\n  String(toString)\n    .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n    .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n);\n\n/**\n * Checks if `value` is a native function.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n */\nfunction isNative(value) {\n  return typeof value == 'function' && reNative.test(value);\n}\n\nmodule.exports = isNative;\n\n},{}],63:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/** Used to determine if values are of the language type Object */\nvar objectTypes = {\n  'boolean': false,\n  'function': true,\n  'object': true,\n  'number': false,\n  'string': false,\n  'undefined': false\n};\n\nmodule.exports = objectTypes;\n\n},{}],64:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('./isNative'),\n    noop = require('../utilities/noop');\n\n/** Used as the property descriptor for `__bindData__` */\nvar descriptor = {\n  'configurable': false,\n  'enumerable': false,\n  'value': null,\n  'writable': false\n};\n\n/** Used to set meta data on functions */\nvar defineProperty = (function() {\n  // IE 8 only accepts DOM elements\n  try {\n    var o = {},\n        func = isNative(func = Object.defineProperty) && func,\n        result = func(o, o, o) && func;\n  } catch(e) { }\n  return result;\n}());\n\n/**\n * Sets `this` binding data on a given function.\n *\n * @private\n * @param {Function} func The function to set data on.\n * @param {Array} value The data array to set.\n */\nvar setBindData = !defineProperty ? noop : function(func, value) {\n  descriptor.value = value;\n  defineProperty(func, '__bindData__', descriptor);\n};\n\nmodule.exports = setBindData;\n\n},{\"../utilities/noop\":77,\"./isNative\":62}],65:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar objectTypes = require('./objectTypes');\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Native method shortcuts */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A fallback implementation of `Object.keys` which produces an array of the\n * given object's own enumerable property names.\n *\n * @private\n * @type Function\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns an array of property names.\n */\nvar shimKeys = function(object) {\n  var index, iterable = object, result = [];\n  if (!iterable) return result;\n  if (!(objectTypes[typeof object])) return result;\n    for (index in iterable) {\n      if (hasOwnProperty.call(iterable, index)) {\n        result.push(index);\n      }\n    }\n  return result\n};\n\nmodule.exports = shimKeys;\n\n},{\"./objectTypes\":63}],66:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * Slices the `collection` from the `start` index up to, but not including,\n * the `end` index.\n *\n * Note: This function is used instead of `Array#slice` to support node lists\n * in IE < 9 and to ensure dense arrays are returned.\n *\n * @private\n * @param {Array|Object|string} collection The collection to slice.\n * @param {number} start The start index.\n * @param {number} end The end index.\n * @returns {Array} Returns the new array.\n */\nfunction slice(array, start, end) {\n  start || (start = 0);\n  if (typeof end == 'undefined') {\n    end = array ? array.length : 0;\n  }\n  var index = -1,\n      length = end - start || 0,\n      result = Array(length < 0 ? 0 : length);\n\n  while (++index < length) {\n    result[index] = array[start + index];\n  }\n  return result;\n}\n\nmodule.exports = slice;\n\n},{}],67:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreateCallback = require('../internals/baseCreateCallback'),\n    keys = require('./keys'),\n    objectTypes = require('../internals/objectTypes');\n\n/**\n * Assigns own enumerable properties of source object(s) to the destination\n * object. Subsequent sources will overwrite property assignments of previous\n * sources. If a callback is provided it will be executed to produce the\n * assigned values. The callback is bound to `thisArg` and invoked with two\n * arguments; (objectValue, sourceValue).\n *\n * @static\n * @memberOf _\n * @type Function\n * @alias extend\n * @category Objects\n * @param {Object} object The destination object.\n * @param {...Object} [source] The source objects.\n * @param {Function} [callback] The function to customize assigning values.\n * @param {*} [thisArg] The `this` binding of `callback`.\n * @returns {Object} Returns the destination object.\n * @example\n *\n * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n * // => { 'name': 'fred', 'employer': 'slate' }\n *\n * var defaults = _.partialRight(_.assign, function(a, b) {\n *   return typeof a == 'undefined' ? b : a;\n * });\n *\n * var object = { 'name': 'barney' };\n * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n * // => { 'name': 'barney', 'employer': 'slate' }\n */\nvar assign = function(object, source, guard) {\n  var index, iterable = object, result = iterable;\n  if (!iterable) return result;\n  var args = arguments,\n      argsIndex = 0,\n      argsLength = typeof guard == 'number' ? 2 : args.length;\n  if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n    var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n  } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n    callback = args[--argsLength];\n  }\n  while (++argsIndex < argsLength) {\n    iterable = args[argsIndex];\n    if (iterable && objectTypes[typeof iterable]) {\n    var ownIndex = -1,\n        ownProps = objectTypes[typeof iterable] && keys(iterable),\n        length = ownProps ? ownProps.length : 0;\n\n    while (++ownIndex < length) {\n      index = ownProps[ownIndex];\n      result[index] = callback ? callback(result[index], iterable[index]) : iterable[index];\n    }\n    }\n  }\n  return result\n};\n\nmodule.exports = assign;\n\n},{\"../internals/baseCreateCallback\":59,\"../internals/objectTypes\":63,\"./keys\":74}],68:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar assign = require('./assign'),\n    baseCreate = require('../internals/baseCreate');\n\n/**\n * Creates an object that inherits from the given `prototype` object. If a\n * `properties` object is provided its own enumerable properties are assigned\n * to the created object.\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {Object} prototype The object to inherit from.\n * @param {Object} [properties] The properties to assign to the object.\n * @returns {Object} Returns the new object.\n * @example\n *\n * function Shape() {\n *   this.x = 0;\n *   this.y = 0;\n * }\n *\n * function Circle() {\n *   Shape.call(this);\n * }\n *\n * Circle.prototype = _.create(Shape.prototype, { 'constructor': Circle });\n *\n * var circle = new Circle;\n * circle instanceof Circle;\n * // => true\n *\n * circle instanceof Shape;\n * // => true\n */\nfunction create(prototype, properties) {\n  var result = baseCreate(prototype);\n  return properties ? assign(result, properties) : result;\n}\n\nmodule.exports = create;\n\n},{\"../internals/baseCreate\":58,\"./assign\":67}],69:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreateCallback = require('../internals/baseCreateCallback'),\n    keys = require('./keys'),\n    objectTypes = require('../internals/objectTypes');\n\n/**\n * Iterates over own enumerable properties of an object, executing the callback\n * for each property. The callback is bound to `thisArg` and invoked with three\n * arguments; (value, key, object). Callbacks may exit iteration early by\n * explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Objects\n * @param {Object} object The object to iterate over.\n * @param {Function} [callback=identity] The function called per iteration.\n * @param {*} [thisArg] The `this` binding of `callback`.\n * @returns {Object} Returns `object`.\n * @example\n *\n * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n *   console.log(key);\n * });\n * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n */\nvar forOwn = function(collection, callback, thisArg) {\n  var index, iterable = collection, result = iterable;\n  if (!iterable) return result;\n  if (!objectTypes[typeof iterable]) return result;\n  callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n    var ownIndex = -1,\n        ownProps = objectTypes[typeof iterable] && keys(iterable),\n        length = ownProps ? ownProps.length : 0;\n\n    while (++ownIndex < length) {\n      index = ownProps[ownIndex];\n      if (callback(iterable[index], index, collection) === false) return result;\n    }\n  return result\n};\n\nmodule.exports = forOwn;\n\n},{\"../internals/baseCreateCallback\":59,\"../internals/objectTypes\":63,\"./keys\":74}],70:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('../internals/isNative');\n\n/** `Object#toString` result shortcuts */\nvar arrayClass = '[object Array]';\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the internal [[Class]] of values */\nvar toString = objectProto.toString;\n\n/* Native method shortcuts for methods with the same name as other `lodash` methods */\nvar nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray;\n\n/**\n * Checks if `value` is an array.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n * @example\n *\n * (function() { return _.isArray(arguments); })();\n * // => false\n *\n * _.isArray([1, 2, 3]);\n * // => true\n */\nvar isArray = nativeIsArray || function(value) {\n  return value && typeof value == 'object' && typeof value.length == 'number' &&\n    toString.call(value) == arrayClass || false;\n};\n\nmodule.exports = isArray;\n\n},{\"../internals/isNative\":62}],71:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar forOwn = require('./forOwn'),\n    isFunction = require('./isFunction');\n\n/** `Object#toString` result shortcuts */\nvar argsClass = '[object Arguments]',\n    arrayClass = '[object Array]',\n    objectClass = '[object Object]',\n    stringClass = '[object String]';\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the internal [[Class]] of values */\nvar toString = objectProto.toString;\n\n/**\n * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n * length of `0` and objects with no own enumerable properties are considered\n * \"empty\".\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {Array|Object|string} value The value to inspect.\n * @returns {boolean} Returns `true` if the `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({});\n * // => true\n *\n * _.isEmpty('');\n * // => true\n */\nfunction isEmpty(value) {\n  var result = true;\n  if (!value) {\n    return result;\n  }\n  var className = toString.call(value),\n      length = value.length;\n\n  if ((className == arrayClass || className == stringClass || className == argsClass ) ||\n      (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {\n    return !length;\n  }\n  forOwn(value, function() {\n    return (result = false);\n  });\n  return result;\n}\n\nmodule.exports = isEmpty;\n\n},{\"./forOwn\":69,\"./isFunction\":72}],72:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * Checks if `value` is a function.\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n */\nfunction isFunction(value) {\n  return typeof value == 'function';\n}\n\nmodule.exports = isFunction;\n\n},{}],73:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar objectTypes = require('../internals/objectTypes');\n\n/**\n * Checks if `value` is the language type of Object.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // check if the value is the ECMAScript language type of Object\n  // http://es5.github.io/#x8\n  // and avoid a V8 bug\n  // http://code.google.com/p/v8/issues/detail?id=2291\n  return !!(value && objectTypes[typeof value]);\n}\n\nmodule.exports = isObject;\n\n},{\"../internals/objectTypes\":63}],74:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('../internals/isNative'),\n    isObject = require('./isObject'),\n    shimKeys = require('../internals/shimKeys');\n\n/* Native method shortcuts for methods with the same name as other `lodash` methods */\nvar nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys;\n\n/**\n * Creates an array composed of the own enumerable property names of an object.\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns an array of property names.\n * @example\n *\n * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  if (!isObject(object)) {\n    return [];\n  }\n  return nativeKeys(object);\n};\n\nmodule.exports = keys;\n\n},{\"../internals/isNative\":62,\"../internals/shimKeys\":65,\"./isObject\":73}],75:[function(require,module,exports){\n(function (global){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('./internals/isNative');\n\n/** Used to detect functions containing a `this` reference */\nvar reThis = /\\bthis\\b/;\n\n/**\n * An object used to flag environments features.\n *\n * @static\n * @memberOf _\n * @type Object\n */\nvar support = {};\n\n/**\n * Detect if functions can be decompiled by `Function#toString`\n * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).\n *\n * @memberOf _.support\n * @type boolean\n */\nsupport.funcDecomp = !isNative(global.WinRTError) && reThis.test(function() { return this; });\n\n/**\n * Detect if `Function#name` is supported (all but IE).\n *\n * @memberOf _.support\n * @type boolean\n */\nsupport.funcNames = typeof Function.name == 'string';\n\nmodule.exports = support;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./internals/isNative\":62}],76:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utilities\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'name': 'fred' };\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n},{}],77:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * A no-operation function.\n *\n * @static\n * @memberOf _\n * @category Utilities\n * @example\n *\n * var object = { 'name': 'fred' };\n * _.noop(object) === undefined;\n * // => true\n */\nfunction noop() {\n  // no operation performed\n}\n\nmodule.exports = noop;\n\n},{}]},{},[1])(1)\n});"]}